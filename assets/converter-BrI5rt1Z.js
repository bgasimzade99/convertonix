const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-C2FqwIQw.js","assets/index-Djuotrda.js","assets/index-BKE9-a4i.css","assets/jspdf.es.min-CbiRSg5i.js"])))=>i.map(i=>d[i]);
import{_ as qe}from"./index-Djuotrda.js";function ot(C,x){return x.forEach(function(P){P&&typeof P!="string"&&!Array.isArray(P)&&Object.keys(P).forEach(function(h){if(h!=="default"&&!(h in C)){var e=Object.getOwnPropertyDescriptor(P,h);Object.defineProperty(C,h,e.get?e:{enumerable:!0,get:function(){return P[h]}})}})}),Object.freeze(C)}function Ge(C,x){return new Promise(function(P,h){let e;return at(C).then(function(t){try{return e=t,P(new Blob([x.slice(0,2),e,x.slice(2)],{type:"image/jpeg"}))}catch(l){return h(l)}},h)})}const at=C=>new Promise((x,P)=>{const h=new FileReader;h.addEventListener("load",({target:{result:e}})=>{const t=new DataView(e);let l=0;if(t.getUint16(l)!==65496)return P("not a valid JPEG");for(l+=2;;){const a=t.getUint16(l);if(a===65498)break;const p=t.getUint16(l+2);if(a===65505&&t.getUint32(l+4)===1165519206){const w=l+10;let r;switch(t.getUint16(w)){case 18761:r=!0;break;case 19789:r=!1;break;default:return P("TIFF header contains invalid endian")}if(t.getUint16(w+2,r)!==42)return P("TIFF header contains invalid version");const i=t.getUint32(w+4,r),n=w+i+2+12*t.getUint16(w+i,r);for(let s=w+i+2;s<n;s+=12)if(t.getUint16(s,r)==274){if(t.getUint16(s+2,r)!==3)return P("Orientation data type is invalid");if(t.getUint32(s+4,r)!==1)return P("Orientation data count is invalid");t.setUint16(s+8,1,r);break}return x(e.slice(l,l+2+p))}l+=2+p}return x(new Blob)}),h.readAsArrayBuffer(C)});var Se={},st={get exports(){return Se},set exports(C){Se=C}};(function(C){var x,P,h={};st.exports=h,h.parse=function(e,t){for(var l=h.bin.readUshort,a=h.bin.readUint,p=0,w={},r=new Uint8Array(e),i=r.length-4;a(r,i)!=101010256;)i--;p=i,p+=4;var n=l(r,p+=4);l(r,p+=2);var s=a(r,p+=2),d=a(r,p+=4);p+=4,p=d;for(var U=0;U<n;U++){a(r,p),p+=4,p+=4,p+=4,a(r,p+=4),s=a(r,p+=4);var I=a(r,p+=4),b=l(r,p+=4),L=l(r,p+2),S=l(r,p+4);p+=6;var R=a(r,p+=8);p+=4,p+=b+L+S,h._readLocal(r,R,w,s,I,t)}return w},h._readLocal=function(e,t,l,a,p,w){var r=h.bin.readUshort,i=h.bin.readUint;i(e,t),r(e,t+=4),r(e,t+=2);var n=r(e,t+=2);i(e,t+=2),i(e,t+=4),t+=4;var s=r(e,t+=8),d=r(e,t+=2);t+=2;var U=h.bin.readUTF8(e,t,s);if(t+=s,t+=d,w)l[U]={size:p,csize:a};else{var I=new Uint8Array(e.buffer,t);if(n==0)l[U]=new Uint8Array(I.buffer.slice(t,t+a));else{if(n!=8)throw"unknown compression method: "+n;var b=new Uint8Array(p);h.inflateRaw(I,b),l[U]=b}}},h.inflateRaw=function(e,t){return h.F.inflate(e,t)},h.inflate=function(e,t){return e[0],e[1],h.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},h.deflate=function(e,t){t==null&&(t={level:6});var l=0,a=new Uint8Array(50+Math.floor(1.1*e.length));a[l]=120,a[l+1]=156,l+=2,l=h.F.deflateRaw(e,a,l,t.level);var p=h.adler(e,0,e.length);return a[l+0]=p>>>24&255,a[l+1]=p>>>16&255,a[l+2]=p>>>8&255,a[l+3]=p>>>0&255,new Uint8Array(a.buffer,0,l+4)},h.deflateRaw=function(e,t){t==null&&(t={level:6});var l=new Uint8Array(50+Math.floor(1.1*e.length)),a=h.F.deflateRaw(e,l,a,t.level);return new Uint8Array(l.buffer,0,a)},h.encode=function(e,t){t==null&&(t=!1);var l=0,a=h.bin.writeUint,p=h.bin.writeUshort,w={};for(var r in e){var i=!h._noNeed(r)&&!t,n=e[r],s=h.crc.crc(n,0,n.length);w[r]={cpr:i,usize:n.length,crc:s,file:i?h.deflateRaw(n):n}}for(var r in w)l+=w[r].file.length+30+46+2*h.bin.sizeUTF8(r);l+=22;var d=new Uint8Array(l),U=0,I=[];for(var r in w){var b=w[r];I.push(U),U=h._writeHeader(d,U,r,b,0)}var L=0,S=U;for(var r in w)b=w[r],I.push(U),U=h._writeHeader(d,U,r,b,1,I[L++]);var R=U-S;return a(d,U,101010256),U+=4,p(d,U+=4,L),p(d,U+=2,L),a(d,U+=2,R),a(d,U+=4,S),U+=4,U+=2,d.buffer},h._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(t)!=-1},h._writeHeader=function(e,t,l,a,p,w){var r=h.bin.writeUint,i=h.bin.writeUshort,n=a.file;return r(e,t,p==0?67324752:33639248),t+=4,p==1&&(t+=2),i(e,t,20),i(e,t+=2,0),i(e,t+=2,a.cpr?8:0),r(e,t+=2,0),r(e,t+=4,a.crc),r(e,t+=4,n.length),r(e,t+=4,a.usize),i(e,t+=4,h.bin.sizeUTF8(l)),i(e,t+=2,0),t+=2,p==1&&(t+=2,t+=2,r(e,t+=6,w),t+=4),t+=h.bin.writeUTF8(e,t,l),p==0&&(e.set(n,t),t+=n.length),t},h.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var l=t,a=0;a<8;a++)1&l?l=3988292384^l>>>1:l>>>=1;e[t]=l}return e}(),update:function(e,t,l,a){for(var p=0;p<a;p++)e=h.crc.table[255&(e^t[l+p])]^e>>>8;return e},crc:function(e,t,l){return 4294967295^h.crc.update(4294967295,e,t,l)}},h.adler=function(e,t,l){for(var a=1,p=0,w=t,r=t+l;w<r;){for(var i=Math.min(w+5552,r);w<i;)p+=a+=e[w++];a%=65521,p%=65521}return p<<16|a},h.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,l){e[t]=255&l,e[t+1]=l>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,l){e[t]=255&l,e[t+1]=l>>8&255,e[t+2]=l>>16&255,e[t+3]=l>>24&255},readASCII:function(e,t,l){for(var a="",p=0;p<l;p++)a+=String.fromCharCode(e[t+p]);return a},writeASCII:function(e,t,l){for(var a=0;a<l.length;a++)e[t+a]=l.charCodeAt(a)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,l){for(var a,p="",w=0;w<l;w++)p+="%"+h.bin.pad(e[t+w].toString(16));try{a=decodeURIComponent(p)}catch{return h.bin.readASCII(e,t,l)}return a},writeUTF8:function(e,t,l){for(var a=l.length,p=0,w=0;w<a;w++){var r=l.charCodeAt(w);if(!(4294967168&r))e[t+p]=r,p++;else if(!(4294965248&r))e[t+p]=192|r>>6,e[t+p+1]=128|r>>0&63,p+=2;else if(!(4294901760&r))e[t+p]=224|r>>12,e[t+p+1]=128|r>>6&63,e[t+p+2]=128|r>>0&63,p+=3;else{if(4292870144&r)throw"e";e[t+p]=240|r>>18,e[t+p+1]=128|r>>12&63,e[t+p+2]=128|r>>6&63,e[t+p+3]=128|r>>0&63,p+=4}}return p},sizeUTF8:function(e){for(var t=e.length,l=0,a=0;a<t;a++){var p=e.charCodeAt(a);if(!(4294967168&p))l++;else if(!(4294965248&p))l+=2;else if(!(4294901760&p))l+=3;else{if(4292870144&p)throw"e";l+=4}}return l}},h.F={},h.F.deflateRaw=function(e,t,l,a){var p=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],w=h.F.U,r=h.F._goodIndex;h.F._hash;var i=h.F._putsE,n=0,s=l<<3,d=0,U=e.length;if(a==0){for(;n<U;)i(t,s,n+(y=Math.min(65535,U-n))==U?1:0),s=h.F._copyExact(e,n,y,t,s+8),n+=y;return s>>>3}var I=w.lits,b=w.strt,L=w.prev,S=0,R=0,D=0,g=0,M=0,c=0;for(U>2&&(b[c=h.F._hash(e,0)]=0),n=0;n<U;n++){if(M=c,n+1<U-2){c=h.F._hash(e,n+1);var f=n+1&32767;L[f]=b[c],b[c]=f}if(d<=n){(S>14e3||R>26697)&&U-n>100&&(d<n&&(I[S]=n-d,S+=2,d=n),s=h.F._writeBlock(n==U-1||d==U?1:0,I,S,g,e,D,n-D,t,s),S=R=g=0,D=n);var v=0;n<U-2&&(v=h.F._bestMatch(e,n,L,M,Math.min(p[2],U-n),p[3]));var y=v>>>16,A=65535&v;if(v!=0){A=65535&v;var E=r(y=v>>>16,w.of0);w.lhst[257+E]++;var m=r(A,w.df0);w.dhst[m]++,g+=w.exb[E]+w.dxb[m],I[S]=y<<23|n-d,I[S+1]=A<<16|E<<8|m,S+=2,d=n+y}else w.lhst[e[n]]++;R++}}for(D==n&&e.length!=0||(d<n&&(I[S]=n-d,S+=2,d=n),s=h.F._writeBlock(1,I,S,g,e,D,n-D,t,s),S=0,R=0,S=R=g=0,D=n);7&s;)s++;return s>>>3},h.F._bestMatch=function(e,t,l,a,p,w){var r=32767&t,i=l[r],n=r-i+32768&32767;if(i==r||a!=h.F._hash(e,t-n))return 0;for(var s=0,d=0,U=Math.min(32767,t);n<=U&&--w!=0&&i!=r;){if(s==0||e[t+s]==e[t+s-n]){var I=h.F._howLong(e,t,n);if(I>s){if(d=n,(s=I)>=p)break;n+2<I&&(I=n+2);for(var b=0,L=0;L<I-2;L++){var S=t-n+L+32768&32767,R=S-l[S]+32768&32767;R>b&&(b=R,i=S)}}}n+=(r=i)-(i=l[r])+32768&32767}return s<<16|d},h.F._howLong=function(e,t,l){if(e[t]!=e[t-l]||e[t+1]!=e[t+1-l]||e[t+2]!=e[t+2-l])return 0;var a=t,p=Math.min(e.length,t+258);for(t+=3;t<p&&e[t]==e[t-l];)t++;return t-a},h.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},h.saved=0,h.F._writeBlock=function(e,t,l,a,p,w,r,i,n){var s,d,U,I,b,L,S,R,D,g=h.F.U,M=h.F._putsF,c=h.F._putsE;g.lhst[256]++,d=(s=h.F.getTrees())[0],U=s[1],I=s[2],b=s[3],L=s[4],S=s[5],R=s[6],D=s[7];var f=32+(n+3&7?8-(n+3&7):0)+(r<<3),v=a+h.F.contSize(g.fltree,g.lhst)+h.F.contSize(g.fdtree,g.dhst),y=a+h.F.contSize(g.ltree,g.lhst)+h.F.contSize(g.dtree,g.dhst);y+=14+3*S+h.F.contSize(g.itree,g.ihst)+(2*g.ihst[16]+3*g.ihst[17]+7*g.ihst[18]);for(var A=0;A<286;A++)g.lhst[A]=0;for(A=0;A<30;A++)g.dhst[A]=0;for(A=0;A<19;A++)g.ihst[A]=0;var E=f<v&&f<y?0:v<y?1:2;if(M(i,n,e),M(i,n+1,E),n+=3,E==0){for(;7&n;)n++;n=h.F._copyExact(p,w,r,i,n)}else{var m,_;if(E==1&&(m=g.fltree,_=g.fdtree),E==2){h.F.makeCodes(g.ltree,d),h.F.revCodes(g.ltree,d),h.F.makeCodes(g.dtree,U),h.F.revCodes(g.dtree,U),h.F.makeCodes(g.itree,I),h.F.revCodes(g.itree,I),m=g.ltree,_=g.dtree,c(i,n,b-257),c(i,n+=5,L-1),c(i,n+=5,S-4),n+=4;for(var u=0;u<S;u++)c(i,n+3*u,g.itree[1+(g.ordr[u]<<1)]);n+=3*S,n=h.F._codeTiny(R,g.itree,i,n),n=h.F._codeTiny(D,g.itree,i,n)}for(var o=w,O=0;O<l;O+=2){for(var F=t[O],k=F>>>23,B=o+(8388607&F);o<B;)n=h.F._writeLit(p[o++],m,i,n);if(k!=0){var z=t[O+1],N=z>>16,H=z>>8&255,T=255&z;c(i,n=h.F._writeLit(257+H,m,i,n),k-g.of0[H]),n+=g.exb[H],M(i,n=h.F._writeLit(T,_,i,n),N-g.df0[T]),n+=g.dxb[T],o+=k}}n=h.F._writeLit(256,m,i,n)}return n},h.F._copyExact=function(e,t,l,a,p){var w=p>>>3;return a[w]=l,a[w+1]=l>>>8,a[w+2]=255-a[w],a[w+3]=255-a[w+1],w+=4,a.set(new Uint8Array(e.buffer,t,l),w),p+(l+4<<3)},h.F.getTrees=function(){for(var e=h.F.U,t=h.F._hufTree(e.lhst,e.ltree,15),l=h.F._hufTree(e.dhst,e.dtree,15),a=[],p=h.F._lenCodes(e.ltree,a),w=[],r=h.F._lenCodes(e.dtree,w),i=0;i<a.length;i+=2)e.ihst[a[i]]++;for(i=0;i<w.length;i+=2)e.ihst[w[i]]++;for(var n=h.F._hufTree(e.ihst,e.itree,7),s=19;s>4&&e.itree[1+(e.ordr[s-1]<<1)]==0;)s--;return[t,l,n,p,r,s,a,w]},h.F.getSecond=function(e){for(var t=[],l=0;l<e.length;l+=2)t.push(e[l+1]);return t},h.F.nonZero=function(e){for(var t="",l=0;l<e.length;l+=2)e[l+1]!=0&&(t+=(l>>1)+",");return t},h.F.contSize=function(e,t){for(var l=0,a=0;a<t.length;a++)l+=t[a]*e[1+(a<<1)];return l},h.F._codeTiny=function(e,t,l,a){for(var p=0;p<e.length;p+=2){var w=e[p],r=e[p+1];a=h.F._writeLit(w,t,l,a);var i=w==16?2:w==17?3:7;w>15&&(h.F._putsE(l,a,r,i),a+=i)}return a},h.F._lenCodes=function(e,t){for(var l=e.length;l!=2&&e[l-1]==0;)l-=2;for(var a=0;a<l;a+=2){var p=e[a+1],w=a+3<l?e[a+3]:-1,r=a+5<l?e[a+5]:-1,i=a==0?-1:e[a-1];if(p==0&&w==p&&r==p){for(var n=a+5;n+2<l&&e[n+2]==p;)n+=2;(s=Math.min(n+1-a>>>1,138))<11?t.push(17,s-3):t.push(18,s-11),a+=2*s-2}else if(p==i&&w==p&&r==p){for(n=a+5;n+2<l&&e[n+2]==p;)n+=2;var s=Math.min(n+1-a>>>1,6);t.push(16,s-3),a+=2*s-2}else t.push(p,0)}return l>>>1},h.F._hufTree=function(e,t,l){var a=[],p=e.length,w=t.length,r=0;for(r=0;r<w;r+=2)t[r]=0,t[r+1]=0;for(r=0;r<p;r++)e[r]!=0&&a.push({lit:r,f:e[r]});var i=a.length,n=a.slice(0);if(i==0)return 0;if(i==1){var s=a[0].lit;return n=s==0?1:0,t[1+(s<<1)]=1,t[1+(n<<1)]=1,1}a.sort(function(R,D){return R.f-D.f});var d=a[0],U=a[1],I=0,b=1,L=2;for(a[0]={lit:-1,f:d.f+U.f,l:d,r:U,d:0};b!=i-1;)d=I!=b&&(L==i||a[I].f<a[L].f)?a[I++]:a[L++],U=I!=b&&(L==i||a[I].f<a[L].f)?a[I++]:a[L++],a[b++]={lit:-1,f:d.f+U.f,l:d,r:U};var S=h.F.setDepth(a[b-1],0);for(S>l&&(h.F.restrictDepth(n,l,S),S=l),r=0;r<i;r++)t[1+(n[r].lit<<1)]=n[r].d;return S},h.F.setDepth=function(e,t){return e.lit!=-1?(e.d=t,t):Math.max(h.F.setDepth(e.l,t+1),h.F.setDepth(e.r,t+1))},h.F.restrictDepth=function(e,t,l){var a=0,p=1<<l-t,w=0;for(e.sort(function(i,n){return n.d==i.d?i.f-n.f:n.d-i.d}),a=0;a<e.length&&e[a].d>t;a++){var r=e[a].d;e[a].d=t,w+=p-(1<<l-r)}for(w>>>=l-t;w>0;)(r=e[a].d)<t?(e[a].d++,w-=1<<t-r-1):a++;for(;a>=0;a--)e[a].d==t&&w<0&&(e[a].d--,w++);w!=0&&console.log("debt left")},h.F._goodIndex=function(e,t){var l=0;return t[16|l]<=e&&(l|=16),t[8|l]<=e&&(l|=8),t[4|l]<=e&&(l|=4),t[2|l]<=e&&(l|=2),t[1|l]<=e&&(l|=1),l},h.F._writeLit=function(e,t,l,a){return h.F._putsF(l,a,t[e<<1]),a+t[1+(e<<1)]},h.F.inflate=function(e,t){var l=Uint8Array;if(e[0]==3&&e[1]==0)return t||new l(0);var a=h.F,p=a._bitsF,w=a._bitsE,r=a._decodeTiny,i=a.makeCodes,n=a.codes2map,s=a._get17,d=a.U,U=t==null;U&&(t=new l(e.length>>>2<<3));for(var I,b,L=0,S=0,R=0,D=0,g=0,M=0,c=0,f=0,v=0;L==0;)if(L=p(e,v,1),S=p(e,v+1,2),v+=3,S!=0){if(U&&(t=h.F._check(t,f+(1<<17))),S==1&&(I=d.flmap,b=d.fdmap,M=511,c=31),S==2){R=w(e,v,5)+257,D=w(e,v+5,5)+1,g=w(e,v+10,4)+4,v+=14;for(var y=0;y<38;y+=2)d.itree[y]=0,d.itree[y+1]=0;var A=1;for(y=0;y<g;y++){var E=w(e,v+3*y,3);d.itree[1+(d.ordr[y]<<1)]=E,E>A&&(A=E)}v+=3*g,i(d.itree,A),n(d.itree,A,d.imap),I=d.lmap,b=d.dmap,v=r(d.imap,(1<<A)-1,R+D,e,v,d.ttree);var m=a._copyOut(d.ttree,0,R,d.ltree);M=(1<<m)-1;var _=a._copyOut(d.ttree,R,D,d.dtree);c=(1<<_)-1,i(d.ltree,m),n(d.ltree,m,I),i(d.dtree,_),n(d.dtree,_,b)}for(;;){var u=I[s(e,v)&M];v+=15&u;var o=u>>>4;if(!(o>>>8))t[f++]=o;else{if(o==256)break;var O=f+o-254;if(o>264){var F=d.ldef[o-257];O=f+(F>>>3)+w(e,v,7&F),v+=7&F}var k=b[s(e,v)&c];v+=15&k;var B=k>>>4,z=d.ddef[B],N=(z>>>4)+p(e,v,15&z);for(v+=15&z,U&&(t=h.F._check(t,f+(1<<17)));f<O;)t[f]=t[f++-N],t[f]=t[f++-N],t[f]=t[f++-N],t[f]=t[f++-N];f=O}}}else{7&v&&(v+=8-(7&v));var H=4+(v>>>3),T=e[H-4]|e[H-3]<<8;U&&(t=h.F._check(t,f+T)),t.set(new l(e.buffer,e.byteOffset+H,T),f),v=H+T<<3,f+=T}return t.length==f?t:t.slice(0,f)},h.F._check=function(e,t){var l=e.length;if(t<=l)return e;var a=new Uint8Array(Math.max(l<<1,t));return a.set(e,0),a},h.F._decodeTiny=function(e,t,l,a,p,w){for(var r=h.F._bitsE,i=h.F._get17,n=0;n<l;){var s=e[i(a,p)&t];p+=15&s;var d=s>>>4;if(d<=15)w[n]=d,n++;else{var U=0,I=0;d==16?(I=3+r(a,p,2),p+=2,U=w[n-1]):d==17?(I=3+r(a,p,3),p+=3):d==18&&(I=11+r(a,p,7),p+=7);for(var b=n+I;n<b;)w[n]=U,n++}}return p},h.F._copyOut=function(e,t,l,a){for(var p=0,w=0,r=a.length>>>1;w<l;){var i=e[w+t];a[w<<1]=0,a[1+(w<<1)]=i,i>p&&(p=i),w++}for(;w<r;)a[w<<1]=0,a[1+(w<<1)]=0,w++;return p},h.F.makeCodes=function(e,t){for(var l,a,p,w,r=h.F.U,i=e.length,n=r.bl_count,s=0;s<=t;s++)n[s]=0;for(s=1;s<i;s+=2)n[e[s]]++;var d=r.next_code;for(l=0,n[0]=0,a=1;a<=t;a++)l=l+n[a-1]<<1,d[a]=l;for(p=0;p<i;p+=2)(w=e[p+1])!=0&&(e[p]=d[w],d[w]++)},h.F.codes2map=function(e,t,l){for(var a=e.length,p=h.F.U.rev15,w=0;w<a;w+=2)if(e[w+1]!=0)for(var r=w>>1,i=e[w+1],n=r<<4|i,s=t-i,d=e[w]<<s,U=d+(1<<s);d!=U;)l[p[d]>>>15-t]=n,d++},h.F.revCodes=function(e,t){for(var l=h.F.U.rev15,a=15-t,p=0;p<e.length;p+=2){var w=e[p]<<t-e[p+1];e[p]=l[w]>>>a}},h.F._putsE=function(e,t,l){l<<=7&t;var a=t>>>3;e[a]|=l,e[a+1]|=l>>>8},h.F._putsF=function(e,t,l){l<<=7&t;var a=t>>>3;e[a]|=l,e[a+1]|=l>>>8,e[a+2]|=l>>>16},h.F._bitsE=function(e,t,l){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<l)-1},h.F._bitsF=function(e,t,l){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<l)-1},h.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},h.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},h.F.U=(x=Uint16Array,P=Uint32Array,{next_code:new x(16),bl_count:new x(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new x(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new P(32),flmap:new x(512),fltree:[],fdmap:new x(32),fdtree:[],lmap:new x(32768),ltree:[],ttree:[],dmap:new x(32768),dtree:[],imap:new x(512),itree:[],rev15:new x(32768),lhst:new P(286),dhst:new P(30),ihst:new P(19),lits:new P(15e3),strt:new x(65536),prev:new x(32768)}),function(){for(var e=h.F.U,t=0;t<32768;t++){var l=t;l=(4278255360&(l=(4042322160&(l=(3435973836&(l=(2863311530&l)>>>1|(1431655765&l)<<1))>>>2|(858993459&l)<<2))>>>4|(252645135&l)<<4))>>>8|(16711935&l)<<8,e.rev15[t]=(l>>>16|l<<16)>>>17}function a(p,w,r){for(;w--!=0;)p.push(0,r)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];a(e.fltree,144,8),a(e.fltree,112,9),a(e.fltree,24,7),a(e.fltree,8,8),h.F.makeCodes(e.fltree,9),h.F.codes2map(e.fltree,9,e.flmap),h.F.revCodes(e.fltree,9),a(e.fdtree,32,5),h.F.makeCodes(e.fdtree,5),h.F.codes2map(e.fdtree,5,e.fdmap),h.F.revCodes(e.fdtree,5),a(e.itree,19,0),a(e.ltree,286,0),a(e.dtree,30,0),a(e.ttree,320,0)}()})();var ft=ot({__proto__:null,default:Se},[Se]);const he=function(){var C={nextZero(r,i){for(;r[i]!=0;)i++;return i},readUshort:(r,i)=>r[i]<<8|r[i+1],writeUshort(r,i,n){r[i]=n>>8&255,r[i+1]=255&n},readUint:(r,i)=>16777216*r[i]+(r[i+1]<<16|r[i+2]<<8|r[i+3]),writeUint(r,i,n){r[i]=n>>24&255,r[i+1]=n>>16&255,r[i+2]=n>>8&255,r[i+3]=255&n},readASCII(r,i,n){let s="";for(let d=0;d<n;d++)s+=String.fromCharCode(r[i+d]);return s},writeASCII(r,i,n){for(let s=0;s<n.length;s++)r[i+s]=n.charCodeAt(s)},readBytes(r,i,n){const s=[];for(let d=0;d<n;d++)s.push(r[i+d]);return s},pad:r=>r.length<2?`0${r}`:r,readUTF8(r,i,n){let s,d="";for(let U=0;U<n;U++)d+=`%${C.pad(r[i+U].toString(16))}`;try{s=decodeURIComponent(d)}catch{return C.readASCII(r,i,n)}return s}};function x(r,i,n,s){const d=i*n,U=t(s),I=Math.ceil(i*U/8),b=new Uint8Array(4*d),L=new Uint32Array(b.buffer),{ctype:S}=s,{depth:R}=s,D=C.readUshort;if(S==6){const F=d<<2;if(R==8)for(var g=0;g<F;g+=4)b[g]=r[g],b[g+1]=r[g+1],b[g+2]=r[g+2],b[g+3]=r[g+3];if(R==16)for(g=0;g<F;g++)b[g]=r[g<<1]}else if(S==2){const F=s.tabs.tRNS;if(F==null){if(R==8)for(g=0;g<d;g++){var M=3*g;L[g]=255<<24|r[M+2]<<16|r[M+1]<<8|r[M]}if(R==16)for(g=0;g<d;g++)M=6*g,L[g]=255<<24|r[M+4]<<16|r[M+2]<<8|r[M]}else{var c=F[0];const k=F[1],B=F[2];if(R==8)for(g=0;g<d;g++){var f=g<<2;M=3*g,L[g]=255<<24|r[M+2]<<16|r[M+1]<<8|r[M],r[M]==c&&r[M+1]==k&&r[M+2]==B&&(b[f+3]=0)}if(R==16)for(g=0;g<d;g++)f=g<<2,M=6*g,L[g]=255<<24|r[M+4]<<16|r[M+2]<<8|r[M],D(r,M)==c&&D(r,M+2)==k&&D(r,M+4)==B&&(b[f+3]=0)}}else if(S==3){const F=s.tabs.PLTE,k=s.tabs.tRNS,B=k?k.length:0;if(R==1)for(var v=0;v<n;v++){var y=v*I,A=v*i;for(g=0;g<i;g++){f=A+g<<2;var E=3*(m=r[y+(g>>3)]>>7-((7&g)<<0)&1);b[f]=F[E],b[f+1]=F[E+1],b[f+2]=F[E+2],b[f+3]=m<B?k[m]:255}}if(R==2)for(v=0;v<n;v++)for(y=v*I,A=v*i,g=0;g<i;g++)f=A+g<<2,E=3*(m=r[y+(g>>2)]>>6-((3&g)<<1)&3),b[f]=F[E],b[f+1]=F[E+1],b[f+2]=F[E+2],b[f+3]=m<B?k[m]:255;if(R==4)for(v=0;v<n;v++)for(y=v*I,A=v*i,g=0;g<i;g++)f=A+g<<2,E=3*(m=r[y+(g>>1)]>>4-((1&g)<<2)&15),b[f]=F[E],b[f+1]=F[E+1],b[f+2]=F[E+2],b[f+3]=m<B?k[m]:255;if(R==8)for(g=0;g<d;g++){var m;f=g<<2,E=3*(m=r[g]),b[f]=F[E],b[f+1]=F[E+1],b[f+2]=F[E+2],b[f+3]=m<B?k[m]:255}}else if(S==4){if(R==8)for(g=0;g<d;g++){f=g<<2;var _=r[u=g<<1];b[f]=_,b[f+1]=_,b[f+2]=_,b[f+3]=r[u+1]}if(R==16)for(g=0;g<d;g++){var u;f=g<<2,_=r[u=g<<2],b[f]=_,b[f+1]=_,b[f+2]=_,b[f+3]=r[u+2]}}else if(S==0)for(c=s.tabs.tRNS?s.tabs.tRNS:-1,v=0;v<n;v++){const F=v*I,k=v*i;if(R==1)for(var o=0;o<i;o++){var O=(_=255*(r[F+(o>>>3)]>>>7-(7&o)&1))==255*c?0:255;L[k+o]=O<<24|_<<16|_<<8|_}else if(R==2)for(o=0;o<i;o++)O=(_=85*(r[F+(o>>>2)]>>>6-((3&o)<<1)&3))==85*c?0:255,L[k+o]=O<<24|_<<16|_<<8|_;else if(R==4)for(o=0;o<i;o++)O=(_=17*(r[F+(o>>>1)]>>>4-((1&o)<<2)&15))==17*c?0:255,L[k+o]=O<<24|_<<16|_<<8|_;else if(R==8)for(o=0;o<i;o++)O=(_=r[F+o])==c?0:255,L[k+o]=O<<24|_<<16|_<<8|_;else if(R==16)for(o=0;o<i;o++)_=r[F+(o<<1)],O=D(r,F+(o<<1))==c?0:255,L[k+o]=O<<24|_<<16|_<<8|_}return b}function P(r,i,n,s){const d=t(r),U=Math.ceil(n*d/8),I=new Uint8Array((U+1+r.interlace)*s);return i=r.tabs.CgBI?e(i,I):h(i,I),r.interlace==0?i=l(i,r,0,n,s):r.interlace==1&&(i=function(L,S){const R=S.width,D=S.height,g=t(S),M=g>>3,c=Math.ceil(R*g/8),f=new Uint8Array(D*c);let v=0;const y=[0,0,4,0,2,0,1],A=[0,4,0,2,0,1,0],E=[8,8,8,4,4,2,2],m=[8,8,4,4,2,2,1];let _=0;for(;_<7;){const o=E[_],O=m[_];let F=0,k=0,B=y[_];for(;B<D;)B+=o,k++;let z=A[_];for(;z<R;)z+=O,F++;const N=Math.ceil(F*g/8);l(L,S,v,F,k);let H=0,T=y[_];for(;T<D;){let Q=A[_],V=v+H*N<<3;for(;Q<R;){var u;if(g==1&&(u=(u=L[V>>3])>>7-(7&V)&1,f[T*c+(Q>>3)]|=u<<7-((7&Q)<<0)),g==2&&(u=(u=L[V>>3])>>6-(7&V)&3,f[T*c+(Q>>2)]|=u<<6-((3&Q)<<1)),g==4&&(u=(u=L[V>>3])>>4-(7&V)&15,f[T*c+(Q>>1)]|=u<<4-((1&Q)<<2)),g>=8){const j=T*c+Q*M;for(let W=0;W<M;W++)f[j+W]=L[(V>>3)+W]}V+=g,Q+=O}H++,T+=o}F*k!=0&&(v+=k*(1+N)),_+=1}return f}(i,r)),i}function h(r,i){return e(new Uint8Array(r.buffer,2,r.length-6),i)}var e=function(){const r={H:{}};return r.H.N=function(i,n){const s=Uint8Array;let d,U,I=0,b=0,L=0,S=0,R=0,D=0,g=0,M=0,c=0;if(i[0]==3&&i[1]==0)return n||new s(0);const f=r.H,v=f.b,y=f.e,A=f.R,E=f.n,m=f.A,_=f.Z,u=f.m,o=n==null;for(o&&(n=new s(i.length>>>2<<5));I==0;)if(I=v(i,c,1),b=v(i,c+1,2),c+=3,b!=0){if(o&&(n=r.H.W(n,M+(1<<17))),b==1&&(d=u.J,U=u.h,D=511,g=31),b==2){L=y(i,c,5)+257,S=y(i,c+5,5)+1,R=y(i,c+10,4)+4,c+=14;let F=1;for(var O=0;O<38;O+=2)u.Q[O]=0,u.Q[O+1]=0;for(O=0;O<R;O++){const z=y(i,c+3*O,3);u.Q[1+(u.X[O]<<1)]=z,z>F&&(F=z)}c+=3*R,E(u.Q,F),m(u.Q,F,u.u),d=u.w,U=u.d,c=A(u.u,(1<<F)-1,L+S,i,c,u.v);const k=f.V(u.v,0,L,u.C);D=(1<<k)-1;const B=f.V(u.v,L,S,u.D);g=(1<<B)-1,E(u.C,k),m(u.C,k,d),E(u.D,B),m(u.D,B,U)}for(;;){const F=d[_(i,c)&D];c+=15&F;const k=F>>>4;if(!(k>>>8))n[M++]=k;else{if(k==256)break;{let B=M+k-254;if(k>264){const Q=u.q[k-257];B=M+(Q>>>3)+y(i,c,7&Q),c+=7&Q}const z=U[_(i,c)&g];c+=15&z;const N=z>>>4,H=u.c[N],T=(H>>>4)+v(i,c,15&H);for(c+=15&H;M<B;)n[M]=n[M++-T],n[M]=n[M++-T],n[M]=n[M++-T],n[M]=n[M++-T];M=B}}}}else{7&c&&(c+=8-(7&c));const F=4+(c>>>3),k=i[F-4]|i[F-3]<<8;o&&(n=r.H.W(n,M+k)),n.set(new s(i.buffer,i.byteOffset+F,k),M),c=F+k<<3,M+=k}return n.length==M?n:n.slice(0,M)},r.H.W=function(i,n){const s=i.length;if(n<=s)return i;const d=new Uint8Array(s<<1);return d.set(i,0),d},r.H.R=function(i,n,s,d,U,I){const b=r.H.e,L=r.H.Z;let S=0;for(;S<s;){const R=i[L(d,U)&n];U+=15&R;const D=R>>>4;if(D<=15)I[S]=D,S++;else{let g=0,M=0;D==16?(M=3+b(d,U,2),U+=2,g=I[S-1]):D==17?(M=3+b(d,U,3),U+=3):D==18&&(M=11+b(d,U,7),U+=7);const c=S+M;for(;S<c;)I[S]=g,S++}}return U},r.H.V=function(i,n,s,d){let U=0,I=0;const b=d.length>>>1;for(;I<s;){const L=i[I+n];d[I<<1]=0,d[1+(I<<1)]=L,L>U&&(U=L),I++}for(;I<b;)d[I<<1]=0,d[1+(I<<1)]=0,I++;return U},r.H.n=function(i,n){const s=r.H.m,d=i.length;let U,I,b,L;const S=s.j;for(var R=0;R<=n;R++)S[R]=0;for(R=1;R<d;R+=2)S[i[R]]++;const D=s.K;for(U=0,S[0]=0,I=1;I<=n;I++)U=U+S[I-1]<<1,D[I]=U;for(b=0;b<d;b+=2)L=i[b+1],L!=0&&(i[b]=D[L],D[L]++)},r.H.A=function(i,n,s){const d=i.length,U=r.H.m.r;for(let I=0;I<d;I+=2)if(i[I+1]!=0){const b=I>>1,L=i[I+1],S=b<<4|L,R=n-L;let D=i[I]<<R;const g=D+(1<<R);for(;D!=g;)s[U[D]>>>15-n]=S,D++}},r.H.l=function(i,n){const s=r.H.m.r,d=15-n;for(let U=0;U<i.length;U+=2){const I=i[U]<<n-i[U+1];i[U]=s[I]>>>d}},r.H.M=function(i,n,s){s<<=7&n;const d=n>>>3;i[d]|=s,i[d+1]|=s>>>8},r.H.I=function(i,n,s){s<<=7&n;const d=n>>>3;i[d]|=s,i[d+1]|=s>>>8,i[d+2]|=s>>>16},r.H.e=function(i,n,s){return(i[n>>>3]|i[1+(n>>>3)]<<8)>>>(7&n)&(1<<s)-1},r.H.b=function(i,n,s){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16)>>>(7&n)&(1<<s)-1},r.H.Z=function(i,n){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16)>>>(7&n)},r.H.i=function(i,n){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16|i[3+(n>>>3)]<<24)>>>(7&n)},r.H.m=function(){const i=Uint16Array,n=Uint32Array;return{K:new i(16),j:new i(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new i(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new n(32),J:new i(512),_:[],h:new i(32),$:[],w:new i(32768),C:[],v:[],d:new i(32768),D:[],u:new i(512),Q:[],r:new i(32768),s:new n(286),Y:new n(30),a:new n(19),t:new n(15e3),k:new i(65536),g:new i(32768)}}(),function(){const i=r.H.m;for(var n=0;n<32768;n++){let d=n;d=(2863311530&d)>>>1|(1431655765&d)<<1,d=(3435973836&d)>>>2|(858993459&d)<<2,d=(4042322160&d)>>>4|(252645135&d)<<4,d=(4278255360&d)>>>8|(16711935&d)<<8,i.r[n]=(d>>>16|d<<16)>>>17}function s(d,U,I){for(;U--!=0;)d.push(0,I)}for(n=0;n<32;n++)i.q[n]=i.S[n]<<3|i.T[n],i.c[n]=i.p[n]<<4|i.z[n];s(i._,144,8),s(i._,112,9),s(i._,24,7),s(i._,8,8),r.H.n(i._,9),r.H.A(i._,9,i.J),r.H.l(i._,9),s(i.$,32,5),r.H.n(i.$,5),r.H.A(i.$,5,i.h),r.H.l(i.$,5),s(i.Q,19,0),s(i.C,286,0),s(i.D,30,0),s(i.v,320,0)}(),r.H.N}();function t(r){return[1,null,3,1,2,null,4][r.ctype]*r.depth}function l(r,i,n,s,d){let U=t(i);const I=Math.ceil(s*U/8);let b,L;U=Math.ceil(U/8);let S=r[n],R=0;if(S>1&&(r[n]=[0,0,1][S-2]),S==3)for(R=U;R<I;R++)r[R+1]=r[R+1]+(r[R+1-U]>>>1)&255;for(let D=0;D<d;D++)if(b=n+D*I,L=b+D+1,S=r[L-1],R=0,S==0)for(;R<I;R++)r[b+R]=r[L+R];else if(S==1){for(;R<U;R++)r[b+R]=r[L+R];for(;R<I;R++)r[b+R]=r[L+R]+r[b+R-U]}else if(S==2)for(;R<I;R++)r[b+R]=r[L+R]+r[b+R-I];else if(S==3){for(;R<U;R++)r[b+R]=r[L+R]+(r[b+R-I]>>>1);for(;R<I;R++)r[b+R]=r[L+R]+(r[b+R-I]+r[b+R-U]>>>1)}else{for(;R<U;R++)r[b+R]=r[L+R]+a(0,r[b+R-I],0);for(;R<I;R++)r[b+R]=r[L+R]+a(r[b+R-U],r[b+R-I],r[b+R-U-I])}return r}function a(r,i,n){const s=r+i-n,d=s-r,U=s-i,I=s-n;return d*d<=U*U&&d*d<=I*I?r:U*U<=I*I?i:n}function p(r,i,n){n.width=C.readUint(r,i),i+=4,n.height=C.readUint(r,i),i+=4,n.depth=r[i],i++,n.ctype=r[i],i++,n.compress=r[i],i++,n.filter=r[i],i++,n.interlace=r[i],i++}function w(r,i,n,s,d,U,I,b,L){const S=Math.min(i,d),R=Math.min(n,U);let D=0,g=0;for(let _=0;_<R;_++)for(let u=0;u<S;u++)if(I>=0&&b>=0?(D=_*i+u<<2,g=(b+_)*d+I+u<<2):(D=(-b+_)*i-I+u<<2,g=_*d+u<<2),L==0)s[g]=r[D],s[g+1]=r[D+1],s[g+2]=r[D+2],s[g+3]=r[D+3];else if(L==1){var M=r[D+3]*.00392156862745098,c=r[D]*M,f=r[D+1]*M,v=r[D+2]*M,y=s[g+3]*(1/255),A=s[g]*y,E=s[g+1]*y,m=s[g+2]*y;const o=1-M,O=M+y*o,F=O==0?0:1/O;s[g+3]=255*O,s[g+0]=(c+A*o)*F,s[g+1]=(f+E*o)*F,s[g+2]=(v+m*o)*F}else if(L==2)M=r[D+3],c=r[D],f=r[D+1],v=r[D+2],y=s[g+3],A=s[g],E=s[g+1],m=s[g+2],M==y&&c==A&&f==E&&v==m?(s[g]=0,s[g+1]=0,s[g+2]=0,s[g+3]=0):(s[g]=c,s[g+1]=f,s[g+2]=v,s[g+3]=M);else if(L==3){if(M=r[D+3],c=r[D],f=r[D+1],v=r[D+2],y=s[g+3],A=s[g],E=s[g+1],m=s[g+2],M==y&&c==A&&f==E&&v==m)continue;if(M<220&&y>20)return!1}return!0}return{decode:function(i){const n=new Uint8Array(i);let s=8;const d=C,U=d.readUshort,I=d.readUint,b={tabs:{},frames:[]},L=new Uint8Array(n.length);let S,R=0,D=0;const g=[137,80,78,71,13,10,26,10];for(var M=0;M<8;M++)if(n[M]!=g[M])throw"The input is not a PNG file!";for(;s<n.length;){const _=d.readUint(n,s);s+=4;const u=d.readASCII(n,s,4);if(s+=4,u=="IHDR")p(n,s,b);else if(u=="iCCP"){for(var c=s;n[c]!=0;)c++;d.readASCII(n,s,c-s),n[c+1];const o=n.slice(c+2,s+_);let O=null;try{O=h(o)}catch{O=e(o)}b.tabs[u]=O}else if(u=="CgBI")b.tabs[u]=n.slice(s,s+4);else if(u=="IDAT"){for(M=0;M<_;M++)L[R+M]=n[s+M];R+=_}else if(u=="acTL")b.tabs[u]={num_frames:I(n,s),num_plays:I(n,s+4)},S=new Uint8Array(n.length);else if(u=="fcTL"){D!=0&&((m=b.frames[b.frames.length-1]).data=P(b,S.slice(0,D),m.rect.width,m.rect.height),D=0);const o={x:I(n,s+12),y:I(n,s+16),width:I(n,s+4),height:I(n,s+8)};let O=U(n,s+22);O=U(n,s+20)/(O==0?100:O);const F={rect:o,delay:Math.round(1e3*O),dispose:n[s+24],blend:n[s+25]};b.frames.push(F)}else if(u=="fdAT"){for(M=0;M<_-4;M++)S[D+M]=n[s+M+4];D+=_-4}else if(u=="pHYs")b.tabs[u]=[d.readUint(n,s),d.readUint(n,s+4),n[s+8]];else if(u=="cHRM")for(b.tabs[u]=[],M=0;M<8;M++)b.tabs[u].push(d.readUint(n,s+4*M));else if(u=="tEXt"||u=="zTXt"){b.tabs[u]==null&&(b.tabs[u]={});var f=d.nextZero(n,s),v=d.readASCII(n,s,f-s),y=s+_-f-1;if(u=="tEXt")E=d.readASCII(n,f+1,y);else{var A=h(n.slice(f+2,f+2+y));E=d.readUTF8(A,0,A.length)}b.tabs[u][v]=E}else if(u=="iTXt"){b.tabs[u]==null&&(b.tabs[u]={}),f=0,c=s,f=d.nextZero(n,c),v=d.readASCII(n,c,f-c);const o=n[c=f+1];var E;n[c+1],c+=2,f=d.nextZero(n,c),d.readASCII(n,c,f-c),c=f+1,f=d.nextZero(n,c),d.readUTF8(n,c,f-c),y=_-((c=f+1)-s),o==0?E=d.readUTF8(n,c,y):(A=h(n.slice(c,c+y)),E=d.readUTF8(A,0,A.length)),b.tabs[u][v]=E}else if(u=="PLTE")b.tabs[u]=d.readBytes(n,s,_);else if(u=="hIST"){const o=b.tabs.PLTE.length/3;for(b.tabs[u]=[],M=0;M<o;M++)b.tabs[u].push(U(n,s+2*M))}else if(u=="tRNS")b.ctype==3?b.tabs[u]=d.readBytes(n,s,_):b.ctype==0?b.tabs[u]=U(n,s):b.ctype==2&&(b.tabs[u]=[U(n,s),U(n,s+2),U(n,s+4)]);else if(u=="gAMA")b.tabs[u]=d.readUint(n,s)/1e5;else if(u=="sRGB")b.tabs[u]=n[s];else if(u=="bKGD")b.ctype==0||b.ctype==4?b.tabs[u]=[U(n,s)]:b.ctype==2||b.ctype==6?b.tabs[u]=[U(n,s),U(n,s+2),U(n,s+4)]:b.ctype==3&&(b.tabs[u]=n[s]);else if(u=="IEND")break;s+=_,d.readUint(n,s),s+=4}var m;return D!=0&&((m=b.frames[b.frames.length-1]).data=P(b,S.slice(0,D),m.rect.width,m.rect.height)),b.data=P(b,L,b.width,b.height),delete b.compress,delete b.interlace,delete b.filter,b},toRGBA8:function(i){const n=i.width,s=i.height;if(i.tabs.acTL==null)return[x(i.data,n,s,i).buffer];const d=[];i.frames[0].data==null&&(i.frames[0].data=i.data);const U=n*s*4,I=new Uint8Array(U),b=new Uint8Array(U),L=new Uint8Array(U);for(let R=0;R<i.frames.length;R++){const D=i.frames[R],g=D.rect.x,M=D.rect.y,c=D.rect.width,f=D.rect.height,v=x(D.data,c,f,i);if(R!=0)for(var S=0;S<U;S++)L[S]=I[S];if(D.blend==0?w(v,c,f,I,n,s,g,M,0):D.blend==1&&w(v,c,f,I,n,s,g,M,1),d.push(I.buffer.slice(0)),D.dispose!=0){if(D.dispose==1)w(b,c,f,I,n,s,g,M,0);else if(D.dispose==2)for(S=0;S<U;S++)I[S]=L[S]}}return d},_paeth:a,_copyTile:w,_bin:C}}();(function(){const{_copyTile:C}=he,{_bin:x}=he,P=he._paeth;var h={table:function(){const c=new Uint32Array(256);for(let f=0;f<256;f++){let v=f;for(let y=0;y<8;y++)1&v?v=3988292384^v>>>1:v>>>=1;c[f]=v}return c}(),update(c,f,v,y){for(let A=0;A<y;A++)c=h.table[255&(c^f[v+A])]^c>>>8;return c},crc:(c,f,v)=>4294967295^h.update(4294967295,c,f,v)};function e(c,f,v,y){f[v]+=c[0]*y>>4,f[v+1]+=c[1]*y>>4,f[v+2]+=c[2]*y>>4,f[v+3]+=c[3]*y>>4}function t(c){return Math.max(0,Math.min(255,c))}function l(c,f){const v=c[0]-f[0],y=c[1]-f[1],A=c[2]-f[2],E=c[3]-f[3];return v*v+y*y+A*A+E*E}function a(c,f,v,y,A,E,m){m==null&&(m=1);const _=y.length,u=[];for(var o=0;o<_;o++){const T=y[o];u.push([T>>>0&255,T>>>8&255,T>>>16&255,T>>>24&255])}for(o=0;o<_;o++){let T=4294967295;for(var O=0,F=0;F<_;F++){var k=l(u[o],u[F]);F!=o&&k<T&&(T=k,O=F)}}const B=new Uint32Array(A.buffer),z=new Int16Array(f*v*4),N=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(o=0;o<N.length;o++)N[o]=255*((N[o]+.5)/16-.5);for(let T=0;T<v;T++)for(let Q=0;Q<f;Q++){var H;o=4*(T*f+Q),m!=2?H=[t(c[o]+z[o]),t(c[o+1]+z[o+1]),t(c[o+2]+z[o+2]),t(c[o+3]+z[o+3])]:(k=N[4*(3&T)+(3&Q)],H=[t(c[o]+k),t(c[o+1]+k),t(c[o+2]+k),t(c[o+3]+k)]),O=0;let V=16777215;for(F=0;F<_;F++){const q=l(H,u[F]);q<V&&(V=q,O=F)}const j=u[O],W=[H[0]-j[0],H[1]-j[1],H[2]-j[2],H[3]-j[3]];m==1&&(Q!=f-1&&e(W,z,o+4,7),T!=v-1&&(Q!=0&&e(W,z,o+4*f-4,3),e(W,z,o+4*f,5),Q!=f-1&&e(W,z,o+4*f+4,1))),E[o>>2]=O,B[o>>2]=y[O]}}function p(c,f,v,y,A){A==null&&(A={});const{crc:E}=h,m=x.writeUint,_=x.writeUshort,u=x.writeASCII;let o=8;const O=c.frames.length>1;let F,k=!1,B=33+(O?20:0);if(A.sRGB!=null&&(B+=13),A.pHYs!=null&&(B+=21),A.iCCP!=null&&(F=pako.deflate(A.iCCP),B+=21+F.length+4),c.ctype==3){for(var z=c.plte.length,N=0;N<z;N++)c.plte[N]>>>24!=255&&(k=!0);B+=8+3*z+4+(k?8+1*z+4:0)}for(var H=0;H<c.frames.length;H++)O&&(B+=38),B+=(j=c.frames[H]).cimg.length+12,H!=0&&(B+=4);B+=12;const T=new Uint8Array(B),Q=[137,80,78,71,13,10,26,10];for(N=0;N<8;N++)T[N]=Q[N];if(m(T,o,13),o+=4,u(T,o,"IHDR"),o+=4,m(T,o,f),o+=4,m(T,o,v),o+=4,T[o]=c.depth,o++,T[o]=c.ctype,o++,T[o]=0,o++,T[o]=0,o++,T[o]=0,o++,m(T,o,E(T,o-17,17)),o+=4,A.sRGB!=null&&(m(T,o,1),o+=4,u(T,o,"sRGB"),o+=4,T[o]=A.sRGB,o++,m(T,o,E(T,o-5,5)),o+=4),A.iCCP!=null){const W=13+F.length;m(T,o,W),o+=4,u(T,o,"iCCP"),o+=4,u(T,o,"ICC profile"),o+=11,o+=2,T.set(F,o),o+=F.length,m(T,o,E(T,o-(W+4),W+4)),o+=4}if(A.pHYs!=null&&(m(T,o,9),o+=4,u(T,o,"pHYs"),o+=4,m(T,o,A.pHYs[0]),o+=4,m(T,o,A.pHYs[1]),o+=4,T[o]=A.pHYs[2],o++,m(T,o,E(T,o-13,13)),o+=4),O&&(m(T,o,8),o+=4,u(T,o,"acTL"),o+=4,m(T,o,c.frames.length),o+=4,m(T,o,A.loop!=null?A.loop:0),o+=4,m(T,o,E(T,o-12,12)),o+=4),c.ctype==3){for(m(T,o,3*(z=c.plte.length)),o+=4,u(T,o,"PLTE"),o+=4,N=0;N<z;N++){const W=3*N,q=c.plte[N],X=255&q,ee=q>>>8&255,Ae=q>>>16&255;T[o+W+0]=X,T[o+W+1]=ee,T[o+W+2]=Ae}if(o+=3*z,m(T,o,E(T,o-3*z-4,3*z+4)),o+=4,k){for(m(T,o,z),o+=4,u(T,o,"tRNS"),o+=4,N=0;N<z;N++)T[o+N]=c.plte[N]>>>24&255;o+=z,m(T,o,E(T,o-z-4,z+4)),o+=4}}let V=0;for(H=0;H<c.frames.length;H++){var j=c.frames[H];O&&(m(T,o,26),o+=4,u(T,o,"fcTL"),o+=4,m(T,o,V++),o+=4,m(T,o,j.rect.width),o+=4,m(T,o,j.rect.height),o+=4,m(T,o,j.rect.x),o+=4,m(T,o,j.rect.y),o+=4,_(T,o,y[H]),o+=2,_(T,o,1e3),o+=2,T[o]=j.dispose,o++,T[o]=j.blend,o++,m(T,o,E(T,o-30,30)),o+=4);const W=j.cimg;m(T,o,(z=W.length)+(H==0?0:4)),o+=4;const q=o;u(T,o,H==0?"IDAT":"fdAT"),o+=4,H!=0&&(m(T,o,V++),o+=4),T.set(W,o),o+=z,m(T,o,E(T,q,o-q)),o+=4}return m(T,o,0),o+=4,u(T,o,"IEND"),o+=4,m(T,o,E(T,o-4,4)),o+=4,T.buffer}function w(c,f,v){for(let y=0;y<c.frames.length;y++){const A=c.frames[y];A.rect.width;const E=A.rect.height,m=new Uint8Array(E*A.bpl+E);A.cimg=s(A.img,E,A.bpp,A.bpl,m,f,v)}}function r(c,f,v,y,A){const E=A[0],m=A[1],_=A[2],u=A[3],o=A[4],O=A[5];let F=6,k=8,B=255;for(var z=0;z<c.length;z++){const ne=new Uint8Array(c[z]);for(var N=ne.length,H=0;H<N;H+=4)B&=ne[H+3]}const T=B!=255,Q=function(K,G,te,oe,Y,fe){const J=[];for(var $=0;$<K.length;$++){const ae=new Uint8Array(K[$]),ue=new Uint32Array(ae.buffer);var le;let ce=0,me=0,ge=G,Ue=te,Le=oe?1:0;if($!=0){const rt=fe||oe||$==1||J[$-2].dispose!=0?1:2;let He=0,Qe=1e9;for(let Re=0;Re<rt;Re++){var ve=new Uint8Array(K[$-1-Re]);const it=new Uint32Array(K[$-1-Re]);let be=G,we=te,Ce=-1,xe=-1;for(let Ee=0;Ee<te;Ee++)for(let Fe=0;Fe<G;Fe++)ue[re=Ee*G+Fe]!=it[re]&&(Fe<be&&(be=Fe),Fe>Ce&&(Ce=Fe),Ee<we&&(we=Ee),Ee>xe&&(xe=Ee));Ce==-1&&(be=we=Ce=xe=0),Y&&((1&be)==1&&be--,(1&we)==1&&we--);const We=(Ce-be+1)*(xe-we+1);We<Qe&&(Qe=We,He=Re,ce=be,me=we,ge=Ce-be+1,Ue=xe-we+1)}ve=new Uint8Array(K[$-1-He]),He==1&&(J[$-1].dispose=2),le=new Uint8Array(ge*Ue*4),C(ve,G,te,le,ge,Ue,-ce,-me,0),Le=C(ae,G,te,le,ge,Ue,-ce,-me,3)?1:0,Le==1?n(ae,G,te,le,{x:ce,y:me,width:ge,height:Ue}):C(ae,G,te,le,ge,Ue,-ce,-me,0)}else le=ae.slice(0);J.push({rect:{x:ce,y:me,width:ge,height:Ue},img:le,blend:Le,dispose:0})}if(oe)for($=0;$<J.length;$++){if((ye=J[$]).blend==1)continue;const ae=ye.rect,ue=J[$-1].rect,ce=Math.min(ae.x,ue.x),me=Math.min(ae.y,ue.y),ge={x:ce,y:me,width:Math.max(ae.x+ae.width,ue.x+ue.width)-ce,height:Math.max(ae.y+ae.height,ue.y+ue.height)-me};J[$-1].dispose=1,$-1!=0&&i(K,G,te,J,$-1,ge,Y),i(K,G,te,J,$,ge,Y)}let Te=0;if(K.length!=1)for(var re=0;re<J.length;re++){var ye;Te+=(ye=J[re]).rect.width*ye.rect.height}return J}(c,f,v,E,m,_),V={},j=[],W=[];if(y!=0){const ne=[];for(H=0;H<Q.length;H++)ne.push(Q[H].img.buffer);const K=function(Y){let fe=0;for(var J=0;J<Y.length;J++)fe+=Y[J].byteLength;const $=new Uint8Array(fe);let le=0;for(J=0;J<Y.length;J++){const ve=new Uint8Array(Y[J]),Te=ve.length;for(let re=0;re<Te;re+=4){let ye=ve[re],ae=ve[re+1],ue=ve[re+2];const ce=ve[re+3];ce==0&&(ye=ae=ue=0),$[le+re]=ye,$[le+re+1]=ae,$[le+re+2]=ue,$[le+re+3]=ce}le+=Te}return $.buffer}(ne),G=U(K,y);for(H=0;H<G.plte.length;H++)j.push(G.plte[H].est.rgba);let te=0;for(H=0;H<Q.length;H++){const oe=(X=Q[H]).img.length;var q=new Uint8Array(G.inds.buffer,te>>2,oe>>2);W.push(q);const Y=new Uint8Array(G.abuf,te,oe);O&&a(X.img,X.rect.width,X.rect.height,j,Y,q),X.img.set(Y),te+=oe}}else for(z=0;z<Q.length;z++){var X=Q[z];const ne=new Uint32Array(X.img.buffer);var ee=X.rect.width;for(N=ne.length,q=new Uint8Array(N),W.push(q),H=0;H<N;H++){const K=ne[H];if(H!=0&&K==ne[H-1])q[H]=q[H-1];else if(H>ee&&K==ne[H-ee])q[H]=q[H-ee];else{let G=V[K];if(G==null&&(V[K]=G=j.length,j.push(K),j.length>=300))break;q[H]=G}}}const Ae=j.length;for(Ae<=256&&o==0&&(k=Ae<=2?1:Ae<=4?2:Ae<=16?4:8,k=Math.max(k,u)),z=0;z<Q.length;z++){(X=Q[z]).rect.x,X.rect.y,ee=X.rect.width;const ne=X.rect.height;let K=X.img;new Uint32Array(K.buffer);let G=4*ee,te=4;if(Ae<=256&&o==0){G=Math.ceil(k*ee/8);var de=new Uint8Array(G*ne);const oe=W[z];for(let Y=0;Y<ne;Y++){H=Y*G;const fe=Y*ee;if(k==8)for(var Z=0;Z<ee;Z++)de[H+Z]=oe[fe+Z];else if(k==4)for(Z=0;Z<ee;Z++)de[H+(Z>>1)]|=oe[fe+Z]<<4-4*(1&Z);else if(k==2)for(Z=0;Z<ee;Z++)de[H+(Z>>2)]|=oe[fe+Z]<<6-2*(3&Z);else if(k==1)for(Z=0;Z<ee;Z++)de[H+(Z>>3)]|=oe[fe+Z]<<7-1*(7&Z)}K=de,F=3,te=1}else if(T==0&&Q.length==1){de=new Uint8Array(ee*ne*3);const oe=ee*ne;for(H=0;H<oe;H++){const Y=3*H,fe=4*H;de[Y]=K[fe],de[Y+1]=K[fe+1],de[Y+2]=K[fe+2]}K=de,F=2,te=3,G=3*ee}X.img=K,X.bpl=G,X.bpp=te}return{ctype:F,depth:k,plte:j,frames:Q}}function i(c,f,v,y,A,E,m){const _=Uint8Array,u=Uint32Array,o=new _(c[A-1]),O=new u(c[A-1]),F=A+1<c.length?new _(c[A+1]):null,k=new _(c[A]),B=new u(k.buffer);let z=f,N=v,H=-1,T=-1;for(let V=0;V<E.height;V++)for(let j=0;j<E.width;j++){const W=E.x+j,q=E.y+V,X=q*f+W,ee=B[X];ee==0||y[A-1].dispose==0&&O[X]==ee&&(F==null||F[4*X+3]!=0)||(W<z&&(z=W),W>H&&(H=W),q<N&&(N=q),q>T&&(T=q))}H==-1&&(z=N=H=T=0),m&&((1&z)==1&&z--,(1&N)==1&&N--),E={x:z,y:N,width:H-z+1,height:T-N+1};const Q=y[A];Q.rect=E,Q.blend=1,Q.img=new Uint8Array(E.width*E.height*4),y[A-1].dispose==0?(C(o,f,v,Q.img,E.width,E.height,-E.x,-E.y,0),n(k,f,v,Q.img,E)):C(k,f,v,Q.img,E.width,E.height,-E.x,-E.y,0)}function n(c,f,v,y,A){C(c,f,v,y,A.width,A.height,-A.x,-A.y,2)}function s(c,f,v,y,A,E,m){const _=[];let u,o=[0,1,2,3,4];E!=-1?o=[E]:(f*y>5e5||v==1)&&(o=[0]),m&&(u={level:0});const O=ft;for(var F=0;F<o.length;F++){for(let z=0;z<f;z++)d(A,c,z,y,v,o[F]);_.push(O.deflate(A,u))}let k,B=1e9;for(F=0;F<_.length;F++)_[F].length<B&&(k=F,B=_[F].length);return _[k]}function d(c,f,v,y,A,E){const m=v*y;let _=m+v;if(c[_]=E,_++,E==0)if(y<500)for(var u=0;u<y;u++)c[_+u]=f[m+u];else c.set(new Uint8Array(f.buffer,m,y),_);else if(E==1){for(u=0;u<A;u++)c[_+u]=f[m+u];for(u=A;u<y;u++)c[_+u]=f[m+u]-f[m+u-A]+256&255}else if(v==0){for(u=0;u<A;u++)c[_+u]=f[m+u];if(E==2)for(u=A;u<y;u++)c[_+u]=f[m+u];if(E==3)for(u=A;u<y;u++)c[_+u]=f[m+u]-(f[m+u-A]>>1)+256&255;if(E==4)for(u=A;u<y;u++)c[_+u]=f[m+u]-P(f[m+u-A],0,0)+256&255}else{if(E==2)for(u=0;u<y;u++)c[_+u]=f[m+u]+256-f[m+u-y]&255;if(E==3){for(u=0;u<A;u++)c[_+u]=f[m+u]+256-(f[m+u-y]>>1)&255;for(u=A;u<y;u++)c[_+u]=f[m+u]+256-(f[m+u-y]+f[m+u-A]>>1)&255}if(E==4){for(u=0;u<A;u++)c[_+u]=f[m+u]+256-P(0,f[m+u-y],0)&255;for(u=A;u<y;u++)c[_+u]=f[m+u]+256-P(f[m+u-A],f[m+u-y],f[m+u-A-y])&255}}}function U(c,f){const v=new Uint8Array(c),y=v.slice(0),A=new Uint32Array(y.buffer),E=I(y,f),m=E[0],_=E[1],u=v.length,o=new Uint8Array(u>>2);let O;if(v.length<2e7)for(var F=0;F<u;F+=4)O=b(m,k=v[F]*(1/255),B=v[F+1]*(1/255),z=v[F+2]*(1/255),N=v[F+3]*(1/255)),o[F>>2]=O.ind,A[F>>2]=O.est.rgba;else for(F=0;F<u;F+=4){var k=v[F]*.00392156862745098,B=v[F+1]*(1/255),z=v[F+2]*(1/255),N=v[F+3]*(1/255);for(O=m;O.left;)O=L(O.est,k,B,z,N)<=0?O.left:O.right;o[F>>2]=O.ind,A[F>>2]=O.est.rgba}return{abuf:y.buffer,inds:o,plte:_}}function I(c,f,v){v==null&&(v=1e-4);const y=new Uint32Array(c.buffer),A={i0:0,i1:c.length,bst:null,est:null,tdst:0,left:null,right:null};A.bst=D(c,A.i0,A.i1),A.est=g(A.bst);const E=[A];for(;E.length<f;){let _=0,u=0;for(var m=0;m<E.length;m++)E[m].est.L>_&&(_=E[m].est.L,u=m);if(_<v)break;const o=E[u],O=S(c,y,o.i0,o.i1,o.est.e,o.est.eMq255);if(o.i0>=O||o.i1<=O){o.est.L=0;continue}const F={i0:o.i0,i1:O,bst:null,est:null,tdst:0,left:null,right:null};F.bst=D(c,F.i0,F.i1),F.est=g(F.bst);const k={i0:O,i1:o.i1,bst:null,est:null,tdst:0,left:null,right:null};for(k.bst={R:[],m:[],N:o.bst.N-F.bst.N},m=0;m<16;m++)k.bst.R[m]=o.bst.R[m]-F.bst.R[m];for(m=0;m<4;m++)k.bst.m[m]=o.bst.m[m]-F.bst.m[m];k.est=g(k.bst),o.left=F,o.right=k,E[u]=F,E.push(k)}for(E.sort((_,u)=>u.bst.N-_.bst.N),m=0;m<E.length;m++)E[m].ind=m;return[A,E]}function b(c,f,v,y,A){if(c.left==null)return c.tdst=function(F,k,B,z,N){const H=k-F[0],T=B-F[1],Q=z-F[2],V=N-F[3];return H*H+T*T+Q*Q+V*V}(c.est.q,f,v,y,A),c;const E=L(c.est,f,v,y,A);let m=c.left,_=c.right;E>0&&(m=c.right,_=c.left);const u=b(m,f,v,y,A);if(u.tdst<=E*E)return u;const o=b(_,f,v,y,A);return o.tdst<u.tdst?o:u}function L(c,f,v,y,A){const{e:E}=c;return E[0]*f+E[1]*v+E[2]*y+E[3]*A-c.eMq}function S(c,f,v,y,A,E){for(y-=4;v<y;){for(;R(c,v,A)<=E;)v+=4;for(;R(c,y,A)>E;)y-=4;if(v>=y)break;const m=f[v>>2];f[v>>2]=f[y>>2],f[y>>2]=m,v+=4,y-=4}for(;R(c,v,A)>E;)v-=4;return v+4}function R(c,f,v){return c[f]*v[0]+c[f+1]*v[1]+c[f+2]*v[2]+c[f+3]*v[3]}function D(c,f,v){const y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],A=[0,0,0,0],E=v-f>>2;for(let m=f;m<v;m+=4){const _=c[m]*.00392156862745098,u=c[m+1]*(1/255),o=c[m+2]*(1/255),O=c[m+3]*(1/255);A[0]+=_,A[1]+=u,A[2]+=o,A[3]+=O,y[0]+=_*_,y[1]+=_*u,y[2]+=_*o,y[3]+=_*O,y[5]+=u*u,y[6]+=u*o,y[7]+=u*O,y[10]+=o*o,y[11]+=o*O,y[15]+=O*O}return y[4]=y[1],y[8]=y[2],y[9]=y[6],y[12]=y[3],y[13]=y[7],y[14]=y[11],{R:y,m:A,N:E}}function g(c){const{R:f}=c,{m:v}=c,{N:y}=c,A=v[0],E=v[1],m=v[2],_=v[3],u=y==0?0:1/y,o=[f[0]-A*A*u,f[1]-A*E*u,f[2]-A*m*u,f[3]-A*_*u,f[4]-E*A*u,f[5]-E*E*u,f[6]-E*m*u,f[7]-E*_*u,f[8]-m*A*u,f[9]-m*E*u,f[10]-m*m*u,f[11]-m*_*u,f[12]-_*A*u,f[13]-_*E*u,f[14]-_*m*u,f[15]-_*_*u],O=o,F=M;let k=[Math.random(),Math.random(),Math.random(),Math.random()],B=0,z=0;if(y!=0)for(let H=0;H<16&&(k=F.multVec(O,k),z=Math.sqrt(F.dot(k,k)),k=F.sml(1/z,k),!(H!=0&&Math.abs(z-B)<1e-9));H++)B=z;const N=[A*u,E*u,m*u,_*u];return{Cov:o,q:N,e:k,L:B,eMq255:F.dot(F.sml(255,N),k),eMq:F.dot(k,N),rgba:(Math.round(255*N[3])<<24|Math.round(255*N[2])<<16|Math.round(255*N[1])<<8|Math.round(255*N[0])<<0)>>>0}}var M={multVec:(c,f)=>[c[0]*f[0]+c[1]*f[1]+c[2]*f[2]+c[3]*f[3],c[4]*f[0]+c[5]*f[1]+c[6]*f[2]+c[7]*f[3],c[8]*f[0]+c[9]*f[1]+c[10]*f[2]+c[11]*f[3],c[12]*f[0]+c[13]*f[1]+c[14]*f[2]+c[15]*f[3]],dot:(c,f)=>c[0]*f[0]+c[1]*f[1]+c[2]*f[2]+c[3]*f[3],sml:(c,f)=>[c*f[0],c*f[1],c*f[2],c*f[3]]};he.encode=function(f,v,y,A,E,m,_){A==null&&(A=0),_==null&&(_=!1);const u=r(f,v,y,A,[!1,!1,!1,0,_,!1]);return w(u,-1),p(u,v,y,E,m)},he.encodeLL=function(f,v,y,A,E,m,_,u){const o={ctype:0+(A==1?0:2)+(E==0?0:4),depth:m,frames:[]},O=(A+E)*m,F=O*v;for(let k=0;k<f.length;k++)o.frames.push({rect:{x:0,y:0,width:v,height:y},img:new Uint8Array(f[k]),blend:0,dispose:1,bpp:Math.ceil(O/8),bpl:Math.ceil(F/8)});return w(o,0,!0),p(o,v,y,_,u)},he.encode.compress=r,he.encode.dither=a,he.quantize=U,he.quantize.getKDtree=I,he.quantize.getNearest=b})();const $e={toArrayBuffer(C,x){const P=C.width,h=C.height,e=P<<2,t=C.getContext("2d").getImageData(0,0,P,h),l=new Uint32Array(t.data.buffer),a=(32*P+31)/32<<2,p=a*h,w=122+p,r=new ArrayBuffer(w),i=new DataView(r),n=1<<20;let s,d,U,I,b=n,L=0,S=0,R=0;function D(c){i.setUint16(S,c,!0),S+=2}function g(c){i.setUint32(S,c,!0),S+=4}function M(c){S+=c}D(19778),g(w),M(4),g(122),g(108),g(P),g(-h>>>0),D(1),D(32),g(3),g(p),g(2835),g(2835),M(8),g(16711680),g(65280),g(255),g(4278190080),g(1466527264),function c(){for(;L<h&&b>0;){for(I=122+L*a,s=0;s<e;)b--,d=l[R++],U=d>>>24,i.setUint32(I+s,d<<8|U),s+=4;L++}R<l.length?(b=n,setTimeout(c,$e._dly)):x(r)}()},toBlob(C,x){this.toArrayBuffer(C,P=>{x(new Blob([P],{type:"image/bmp"}))})},_dly:9};var se={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},lt={[se.CHROME]:16384,[se.FIREFOX]:11180,[se.DESKTOP_SAFARI]:16384,[se.IE]:8192,[se.IOS]:4096,[se.ETC]:8192};const Ne=typeof window<"u",Ve=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Oe=Ne&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),ct=(Ne||Ve)&&(Oe&&Oe.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Ke=(Ne||Ve)&&(Oe&&Oe.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Be(C,x,P=Date.now()){return new Promise(h=>{const e=C.split(","),t=e[0].match(/:(.*?);/)[1],l=globalThis.atob(e[1]);let a=l.length;const p=new Uint8Array(a);for(;a--;)p[a]=l.charCodeAt(a);const w=new Blob([p],{type:t});w.name=x,w.lastModified=P,h(w)})}function Ze(C){return new Promise((x,P)=>{const h=new Ke;h.onload=()=>x(h.result),h.onerror=e=>P(e),h.readAsDataURL(C)})}function Xe(C){return new Promise((x,P)=>{const h=new Image;h.onload=()=>x(h),h.onerror=e=>P(e),h.src=C})}function _e(){if(_e.cachedResult!==void 0)return _e.cachedResult;let C=se.ETC;const{userAgent:x}=navigator;return/Chrom(e|ium)/i.test(x)?C=se.CHROME:/iP(ad|od|hone)/i.test(x)&&/WebKit/i.test(x)?C=se.IOS:/Safari/i.test(x)?C=se.DESKTOP_SAFARI:/Firefox/i.test(x)?C=se.FIREFOX:(/MSIE/i.test(x)||document.documentMode)&&(C=se.IE),_e.cachedResult=C,_e.cachedResult}function Ye(C,x){const P=_e(),h=lt[P];let e=C,t=x,l=e*t;const a=e>t?t/e:e/t;for(;l>h*h;){const p=(h+e)/2,w=(h+t)/2;p<w?(t=w,e=w*a):(t=p*a,e=p),l=e*t}return{width:e,height:t}}function De(C,x){let P,h;try{if(P=new OffscreenCanvas(C,x),h=P.getContext("2d"),h===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{P=document.createElement("canvas"),h=P.getContext("2d")}return P.width=C,P.height=x,[P,h]}function Je(C,x){const{width:P,height:h}=Ye(C.width,C.height),[e,t]=De(P,h);return x&&/jpe?g/.test(x)&&(t.fillStyle="white",t.fillRect(0,0,e.width,e.height)),t.drawImage(C,0,0,e.width,e.height),e}function Me(){return Me.cachedResult!==void 0||(Me.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Me.cachedResult}function Pe(C,x={}){return new Promise(function(P,h){let e,t;var l=function(){try{return t=Je(e,x.fileType||C.type),P([e,t])}catch(p){return h(p)}},a=function(p){try{var w=function(r){try{throw r}catch(i){return h(i)}};try{let r;return Ze(C).then(function(i){try{return r=i,Xe(r).then(function(n){try{return e=n,function(){try{return l()}catch(s){return h(s)}}()}catch(s){return w(s)}},w)}catch(n){return w(n)}},w)}catch(r){w(r)}}catch(r){return h(r)}};try{if(Me()||[se.DESKTOP_SAFARI,se.MOBILE_SAFARI].includes(_e()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(C).then(function(p){try{return e=p,l()}catch{return a()}},a)}catch{a()}})}function ke(C,x,P,h,e=1){return new Promise(function(t,l){let a;if(x==="image/png"){let w,r,i;return w=C.getContext("2d"),{data:r}=w.getImageData(0,0,C.width,C.height),i=he.encode([r.buffer],C.width,C.height,4096*e),a=new Blob([i],{type:x}),a.name=P,a.lastModified=h,p.call(this)}{let w=function(){return p.call(this)};if(x==="image/bmp")return new Promise(r=>$e.toBlob(C,r)).then((function(r){try{return a=r,a.name=P,a.lastModified=h,w.call(this)}catch(i){return l(i)}}).bind(this),l);{let r=function(){return w.call(this)};if(typeof OffscreenCanvas=="function"&&C instanceof OffscreenCanvas)return C.convertToBlob({type:x,quality:e}).then((function(i){try{return a=i,a.name=P,a.lastModified=h,r.call(this)}catch(n){return l(n)}}).bind(this),l);{let i;return i=C.toDataURL(x,e),Be(i,P,h).then((function(n){try{return a=n,r.call(this)}catch(s){return l(s)}}).bind(this),l)}}}function p(){return t(a)}})}function pe(C){C.width=0,C.height=0}function Ie(){return new Promise(function(C,x){let P,h,e,t;return Ie.cachedResult!==void 0?C(Ie.cachedResult):Be("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(l){try{return P=l,Pe(P).then(function(a){try{return h=a[1],ke(h,P.type,P.name,P.lastModified).then(function(p){try{return e=p,pe(h),Pe(e).then(function(w){try{return t=w[0],Ie.cachedResult=t.width===1&&t.height===2,C(Ie.cachedResult)}catch(r){return x(r)}},x)}catch(w){return x(w)}},x)}catch(p){return x(p)}},x)}catch(a){return x(a)}},x)})}function et(C){return new Promise((x,P)=>{const h=new Ke;h.onload=e=>{const t=new DataView(e.target.result);if(t.getUint16(0,!1)!=65496)return x(-2);const l=t.byteLength;let a=2;for(;a<l;){if(t.getUint16(a+2,!1)<=8)return x(-1);const p=t.getUint16(a,!1);if(a+=2,p==65505){if(t.getUint32(a+=2,!1)!=1165519206)return x(-1);const w=t.getUint16(a+=6,!1)==18761;a+=t.getUint32(a+4,w);const r=t.getUint16(a,w);a+=2;for(let i=0;i<r;i++)if(t.getUint16(a+12*i,w)==274)return x(t.getUint16(a+12*i+8,w))}else{if((65280&p)!=65280)break;a+=t.getUint16(a,!1)}}return x(-1)},h.onerror=e=>P(e),h.readAsArrayBuffer(C)})}function tt(C,x){const{width:P}=C,{height:h}=C,{maxWidthOrHeight:e}=x;let t,l=C;return isFinite(e)&&(P>e||h>e)&&([l,t]=De(P,h),P>h?(l.width=e,l.height=h/P*e):(l.width=P/h*e,l.height=e),t.drawImage(C,0,0,l.width,l.height),pe(C)),l}function nt(C,x){const{width:P}=C,{height:h}=C,[e,t]=De(P,h);switch(x>4&&x<9?(e.width=h,e.height=P):(e.width=P,e.height=h),x){case 2:t.transform(-1,0,0,1,P,0);break;case 3:t.transform(-1,0,0,-1,P,h);break;case 4:t.transform(1,0,0,-1,0,h);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,h,0);break;case 7:t.transform(0,-1,-1,0,h,P);break;case 8:t.transform(0,-1,1,0,0,P)}return t.drawImage(C,0,0,P,h),pe(C),e}function je(C,x,P=0){return new Promise(function(h,e){let t,l,a,p,w,r,i,n,s,d,U,I,b,L,S,R,D,g,M,c;function f(y=5){if(x.signal&&x.signal.aborted)throw x.signal.reason;t+=y,x.onProgress(Math.min(t,100))}function v(y){if(x.signal&&x.signal.aborted)throw x.signal.reason;t=Math.min(Math.max(y,t),100),x.onProgress(t)}return t=P,l=x.maxIteration||10,a=1024*x.maxSizeMB*1024,f(),Pe(C,x).then((function(y){try{return[,p]=y,f(),w=tt(p,x),f(),new Promise(function(A,E){var m;if(!(m=x.exifOrientation))return et(C).then((function(u){try{return m=u,_.call(this)}catch(o){return E(o)}}).bind(this),E);function _(){return A(m)}return _.call(this)}).then((function(A){try{return r=A,f(),Ie().then((function(E){try{return i=E?w:nt(w,r),f(),n=x.initialQuality||1,s=x.fileType||C.type,ke(i,s,C.name,C.lastModified,n).then((function(m){try{{let u=function(){if(l--&&(S>a||S>b)){let O,F;return O=c?.95*M.width:M.width,F=c?.95*M.height:M.height,[D,g]=De(O,F),g.drawImage(M,0,0,O,F),n*=s==="image/png"?.85:.95,ke(D,s,C.name,C.lastModified,n).then(function(k){try{return R=k,pe(M),M=D,S=R.size,v(Math.min(99,Math.floor((L-S)/(L-a)*100))),u}catch(B){return e(B)}},e)}return[1]},o=function(){return pe(M),pe(D),pe(w),pe(i),pe(p),v(100),h(R)};if(d=m,f(),U=d.size>a,I=d.size>C.size,!U&&!I)return v(100),h(d);var _;return b=C.size,L=d.size,S=L,M=i,c=!x.alwaysKeepResolution&&U,(_=(function(O){for(;O;){if(O.then)return void O.then(_,e);try{if(O.pop){if(O.length)return O.pop()?o.call(this):O;O=u}else O=O.call(this)}catch(F){return e(F)}}}).bind(this))(u)}}catch(u){return e(u)}}).bind(this),e)}catch(m){return e(m)}}).bind(this),e)}catch(E){return e(E)}}).bind(this),e)}catch(A){return e(A)}}).bind(this),e)})}const ut=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let ze;function ht(C,x){return new Promise((P,h)=>{ze||(ze=function(l){const a=[];return a.push(l),URL.createObjectURL(new Blob(a))}(ut));const e=new Worker(ze);e.addEventListener("message",function(l){if(x.signal&&x.signal.aborted)e.terminate();else if(l.data.progress===void 0){if(l.data.error)return h(new Error(l.data.error)),void e.terminate();P(l.data.file),e.terminate()}else x.onProgress(l.data.progress)}),e.addEventListener("error",h),x.signal&&x.signal.addEventListener("abort",()=>{h(x.signal.reason),e.terminate()}),e.postMessage({file:C,imageCompressionLibUrl:x.libURL,options:{...x,onProgress:void 0,signal:void 0}})})}function ie(C,x){return new Promise(function(P,h){let e,t,l,a,p,w;if(e={...x},l=0,{onProgress:a}=e,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,p=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=s=>{l=s,typeof a=="function"&&a(l)},!(C instanceof Blob||C instanceof ct))return h(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(C.type))return h(new Error("The file given is not an image"));if(w=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!p||typeof Worker!="function"||w)return je(C,e).then((function(s){try{return t=s,n.call(this)}catch(d){return h(d)}}).bind(this),h);var r=(function(){try{return n.call(this)}catch(s){return h(s)}}).bind(this),i=function(s){try{return je(C,e).then(function(d){try{return t=d,r()}catch(U){return h(U)}},h)}catch(d){return h(d)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",ht(C,e).then(function(s){try{return t=s,r()}catch{return i()}},i)}catch{i()}function n(){try{t.name=C.name,t.lastModified=C.lastModified}catch{}try{e.preserveExif&&C.type==="image/jpeg"&&(!e.fileType||e.fileType&&e.fileType===C.type)&&(t=Ge(C,t))}catch{}return P(t)}})}ie.getDataUrlFromFile=Ze,ie.getFilefromDataUrl=Be,ie.loadImage=Xe,ie.drawImageInCanvas=Je,ie.drawFileInCanvas=Pe,ie.canvasToFile=ke,ie.getExifOrientation=et,ie.handleMaxWidthOrHeight=tt,ie.followExifOrientation=nt,ie.cleanupCanvasMemory=pe,ie.isAutoOrientationInBrowser=Ie,ie.approximateBelowMaximumCanvasSizeOfBrowser=Ye,ie.copyExifWithoutOrientation=Ge,ie.getBrowserName=_e,ie.version="2.0.2";async function bt(C,x,P={}){console.log(" CONVERTER.JS - convertFile called"),console.log("File:",C.name),console.log("Target Format:",x),console.log("Options:",P);const h={enhance:P.enhance||!1,ocr:P.ocr||!1,summarize:P.summarize||!1,smartCompress:P.compress||P.smartCompress||!1};console.log("AI Features:",h);const e=mt(C.name);console.log("File Type:",e);let t={blob:null,filename:"",aiResults:{}};try{if(x==="compress")console.log(" Compressing image..."),t.blob=await gt(C,h.smartCompress),t.filename=`${C.name.split(".")[0]}_compressed.${C.name.split(".").pop()}`,console.log(" Compression complete");else if(e==="image")console.log(" Converting image..."),t.blob=await dt(C,x,h),t.filename=`${C.name.split(".")[0]}.${x}`,console.log(" Image conversion complete");else if(e==="pdf")if(console.log(" Converting PDF..."),x==="txt")t.blob=new Blob(["PDF conversion to text requires additional setup. Try uploading an image for OCR instead."],{type:"text/plain"}),t.filename=`${C.name.split(".")[0]}.txt`;else throw new Error("PDF conversion requires additional configuration");else throw console.log(" Unsupported file type:",e),new Error("Unsupported file type for this demo");if(!t.blob)throw console.error(" No blob generated!"),new Error("Conversion failed: No blob generated");if(console.log(" Blob generated, size:",t.blob.size),h.ocr&&e==="image"){console.log(" Running OCR...");try{const l=await qe(()=>import("./index-C2FqwIQw.js").then(p=>p.i),__vite__mapDeps([0,1,2])),{data:{text:a}}=await l.recognize(C,"eng");t.aiResults.ocr=a,console.log(" OCR complete"),h.summarize&&a&&(t.aiResults.summary=pt(a),console.log(" Summarization complete"))}catch(l){console.log(" OCR skipped:",l.message)}}return h.enhance&&e==="image"&&(t.aiResults.enhanced=!0,console.log(" Enhancement applied")),console.log(" CONVERTER.JS - Final result:",t),t}catch(l){throw console.error(" CONVERTER.JS ERROR:",l),l}}async function dt(C,x,P={}){return new Promise((h,e)=>{const t=new FileReader;t.onload=async l=>{const a=new Image;a.onload=async()=>{const p=document.createElement("canvas");let w=a.width,r=a.height;P.enhance&&(w*=1.2,r*=1.2),p.width=w,p.height=r;const i=p.getContext("2d");i.imageSmoothingEnabled=!0,i.imageSmoothingQuality="high",i.drawImage(a,0,0,w,r);let n="image/png",s=.92;switch(x){case"jpg":case"jpeg":n="image/jpeg";break;case"png":n="image/png";break;case"webp":n="image/webp";break;case"pdf":const{jsPDF:d}=await qe(async()=>{const{jsPDF:b}=await import("./jspdf.es.min-CbiRSg5i.js").then(L=>L.j);return{jsPDF:b}},__vite__mapDeps([3,1,2])),U=p.toDataURL("image/jpeg",.9),I=new d({orientation:w>r?"landscape":"portrait",unit:"px",format:[w,r]});I.addImage(U,"JPEG",0,0,w,r),h(I.output("blob"));return}p.toBlob(d=>{d?h(d):e(new Error("Failed to convert image"))},n,s)},a.onerror=()=>e(new Error("Failed to load image")),a.src=l.target.result},t.onerror=()=>e(new Error("Failed to read file")),t.readAsDataURL(C)})}async function gt(C,x=!1){const P={maxSizeMB:x?.5:1,maxWidthOrHeight:x?1920:2048,useWebWorker:!0};try{return await ie(C,P)}catch(h){return console.error("Compression error:",h),C}}function pt(C,x=3){if(!C||C.length<100)return C;const P=C.replace(/\n+/g," ").split(/[.!?]+/).map(e=>e.trim()).filter(e=>e.length>20);return P.length<=x?C:P.map((e,t)=>({sentence:e,score:(t===0?3:0)+(e.length>50&&e.length<150?2:0),index:t})).sort((e,t)=>t.score-e.score).slice(0,x).sort((e,t)=>e.index-t.index).map(e=>e.sentence).join(". ")+"."}function mt(C){const x=C.split(".").pop().toLowerCase();return["jpg","jpeg","png","webp","heic","gif","bmp"].includes(x)?"image":["pdf"].includes(x)?"pdf":["doc","docx"].includes(x)?"document":["xls","xlsx"].includes(x)?"spreadsheet":"other"}export{bt as convertFile};
