import{m as de}from"./index-n2YMFGz9.js";function pe(o,i){for(var c=0;c<i.length;c++){const l=i[c];if(typeof l!="string"&&!Array.isArray(l)){for(const h in l)if(h!=="default"&&!(h in o)){const b=Object.getOwnPropertyDescriptor(l,h);b&&Object.defineProperty(o,h,b.get?b:{enumerable:!0,get:()=>l[h]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}var he={exports:{}};(function(o){var i=function(c){var l=Object.prototype,h=l.hasOwnProperty,b=Object.defineProperty||function(r,e,n){r[e]=n.value},g,y=typeof Symbol=="function"?Symbol:{},p=y.iterator||"@@iterator",w=y.asyncIterator||"@@asyncIterator",k=y.toStringTag||"@@toStringTag";function E(r,e,n){return Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),r[e]}try{E({},"")}catch{E=function(r,e,n){return r[e]=n}}function T(r,e,n,s){var t=e&&e.prototype instanceof C?e:C,a=Object.create(t.prototype),u=new z(s||[]);return b(a,"_invoke",{value:V(r,n,u)}),a}c.wrap=T;function S(r,e,n){try{return{type:"normal",arg:r.call(e,n)}}catch(s){return{type:"throw",arg:s}}}var _="suspendedStart",K="suspendedYield",H="executing",M="completed",v={};function C(){}function P(){}function m(){}var $={};E($,p,function(){return this});var G=Object.getPrototypeOf,F=G&&G(G(Y([])));F&&F!==l&&h.call(F,p)&&($=F);var R=m.prototype=C.prototype=Object.create($);P.prototype=m,b(R,"constructor",{value:m,configurable:!0}),b(m,"constructor",{value:P,configurable:!0}),P.displayName=E(m,k,"GeneratorFunction");function W(r){["next","throw","return"].forEach(function(e){E(r,e,function(n){return this._invoke(e,n)})})}c.isGeneratorFunction=function(r){var e=typeof r=="function"&&r.constructor;return e?e===P||(e.displayName||e.name)==="GeneratorFunction":!1},c.mark=function(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,m):(r.__proto__=m,E(r,k,"GeneratorFunction")),r.prototype=Object.create(R),r},c.awrap=function(r){return{__await:r}};function D(r,e){function n(a,u,f,d){var L=S(r[a],r,u);if(L.type==="throw")d(L.arg);else{var O=L.arg,I=O.value;return I&&typeof I=="object"&&h.call(I,"__await")?e.resolve(I.__await).then(function(j){n("next",j,f,d)},function(j){n("throw",j,f,d)}):e.resolve(I).then(function(j){O.value=j,f(O)},function(j){return n("throw",j,f,d)})}}var s;function t(a,u){function f(){return new e(function(d,L){n(a,u,d,L)})}return s=s?s.then(f,f):f()}b(this,"_invoke",{value:t})}W(D.prototype),E(D.prototype,w,function(){return this}),c.AsyncIterator=D,c.async=function(r,e,n,s,t){t===void 0&&(t=Promise);var a=new D(T(r,e,n,s),t);return c.isGeneratorFunction(e)?a:a.next().then(function(u){return u.done?u.value:a.next()})};function V(r,e,n){var s=_;return function(t,a){if(s===H)throw new Error("Generator is already running");if(s===M){if(t==="throw")throw a;return J()}for(n.method=t,n.arg=a;;){var u=n.delegate;if(u){var f=B(u,n);if(f){if(f===v)continue;return f}}if(n.method==="next")n.sent=n._sent=n.arg;else if(n.method==="throw"){if(s===_)throw s=M,n.arg;n.dispatchException(n.arg)}else n.method==="return"&&n.abrupt("return",n.arg);s=H;var d=S(r,e,n);if(d.type==="normal"){if(s=n.done?M:K,d.arg===v)continue;return{value:d.arg,done:n.done}}else d.type==="throw"&&(s=M,n.method="throw",n.arg=d.arg)}}}function B(r,e){var n=e.method,s=r.iterator[n];if(s===g)return e.delegate=null,n==="throw"&&r.iterator.return&&(e.method="return",e.arg=g,B(r,e),e.method==="throw")||n!=="return"&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var t=S(s,r.iterator,e.arg);if(t.type==="throw")return e.method="throw",e.arg=t.arg,e.delegate=null,v;var a=t.arg;if(!a)return e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v;if(a.done)e[r.resultName]=a.value,e.next=r.nextLoc,e.method!=="return"&&(e.method="next",e.arg=g);else return a;return e.delegate=null,v}W(R),E(R,k,"Generator"),E(R,p,function(){return this}),E(R,"toString",function(){return"[object Generator]"});function Z(r){var e={tryLoc:r[0]};1 in r&&(e.catchLoc=r[1]),2 in r&&(e.finallyLoc=r[2],e.afterLoc=r[3]),this.tryEntries.push(e)}function N(r){var e=r.completion||{};e.type="normal",delete e.arg,r.completion=e}function z(r){this.tryEntries=[{tryLoc:"root"}],r.forEach(Z,this),this.reset(!0)}c.keys=function(r){var e=Object(r),n=[];for(var s in e)n.push(s);return n.reverse(),function t(){for(;n.length;){var a=n.pop();if(a in e)return t.value=a,t.done=!1,t}return t.done=!0,t}};function Y(r){if(r){var e=r[p];if(e)return e.call(r);if(typeof r.next=="function")return r;if(!isNaN(r.length)){var n=-1,s=function t(){for(;++n<r.length;)if(h.call(r,n))return t.value=r[n],t.done=!1,t;return t.value=g,t.done=!0,t};return s.next=s}}return{next:J}}c.values=Y;function J(){return{value:g,done:!0}}return z.prototype={constructor:z,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(N),!r)for(var e in this)e.charAt(0)==="t"&&h.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=g)},stop:function(){this.done=!0;var r=this.tryEntries[0],e=r.completion;if(e.type==="throw")throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var e=this;function n(d,L){return a.type="throw",a.arg=r,e.next=d,L&&(e.method="next",e.arg=g),!!L}for(var s=this.tryEntries.length-1;s>=0;--s){var t=this.tryEntries[s],a=t.completion;if(t.tryLoc==="root")return n("end");if(t.tryLoc<=this.prev){var u=h.call(t,"catchLoc"),f=h.call(t,"finallyLoc");if(u&&f){if(this.prev<t.catchLoc)return n(t.catchLoc,!0);if(this.prev<t.finallyLoc)return n(t.finallyLoc)}else if(u){if(this.prev<t.catchLoc)return n(t.catchLoc,!0)}else if(f){if(this.prev<t.finallyLoc)return n(t.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(r,e){for(var n=this.tryEntries.length-1;n>=0;--n){var s=this.tryEntries[n];if(s.tryLoc<=this.prev&&h.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var t=s;break}}t&&(r==="break"||r==="continue")&&t.tryLoc<=e&&e<=t.finallyLoc&&(t=null);var a=t?t.completion:{};return a.type=r,a.arg=e,t?(this.method="next",this.next=t.finallyLoc,v):this.complete(a)},complete:function(r,e){if(r.type==="throw")throw r.arg;return r.type==="break"||r.type==="continue"?this.next=r.arg:r.type==="return"?(this.rval=this.arg=r.arg,this.method="return",this.next="end"):r.type==="normal"&&e&&(this.next=e),v},finish:function(r){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===r)return this.complete(n.completion,n.afterLoc),N(n),v}},catch:function(r){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===r){var s=n.completion;if(s.type==="throw"){var t=s.arg;N(n)}return t}}throw new Error("illegal catch attempt")},delegateYield:function(r,e,n){return this.delegate={iterator:Y(r),resultName:e,nextLoc:n},this.method==="next"&&(this.arg=g),v}},c}(o.exports);try{regeneratorRuntime=i}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}})(he);var ee=(o,i)=>`${o}-${i}-${Math.random().toString(16).slice(3,8)}`;const ge=ee;let re=0;var ce=({id:o,action:i,payload:c={}})=>{let l=o;return typeof l>"u"&&(l=ge("Job",re),re+=1),{id:l,action:i,payload:c}},U={};let te=!1;U.logging=te;U.setLogging=o=>{te=o};U.log=(...o)=>te?console.log.apply(void 0,o):null;const ye=ce,{log:q}=U,me=ee;let oe=0;var we=()=>{const o=me("Scheduler",oe),i={},c={};let l=[];oe+=1;const h=()=>l.length,b=()=>Object.keys(i).length,g=()=>{if(l.length!==0){const p=Object.keys(i);for(let w=0;w<p.length;w+=1)if(typeof c[p[w]]>"u"){l[0](i[p[w]]);break}}},y=(p,w)=>new Promise((k,E)=>{const T=ye({action:p,payload:w});l.push(async S=>{l.shift(),c[S.id]=T;try{k(await S[p].apply(void 0,[...w,T.id]))}catch(_){E(_)}finally{delete c[S.id],g()}}),q(`[${o}]: Add ${T.id} to JobQueue`),q(`[${o}]: JobQueue length=${l.length}`),g()});return{addWorker:p=>(i[p.id]=p,q(`[${o}]: Add ${p.id}`),q(`[${o}]: Number of workers=${b()}`),g(),p.id),addJob:async(p,...w)=>{if(b()===0)throw Error(`[${o}]: You need to have at least one worker before adding jobs`);return y(p,w)},terminate:async()=>{Object.keys(i).forEach(async p=>{await i[p].terminate()}),l=[]},getQueueLen:h,getNumWorkers:b}};function ve(o){throw new Error('Could not dynamically require "'+o+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}function Le(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}var be=Le;const Ee=be;var Se=o=>{const i={};return typeof WorkerGlobalScope<"u"?i.type="webworker":Ee()?i.type="electron":typeof document=="object"?i.type="browser":typeof process=="object"&&typeof ve=="function"&&(i.type="node"),i[o]};const Oe=Se("type")==="browser",Ae=Oe?o=>new URL(o,window.location.href).href:o=>o;var ke=o=>{const i={...o};return["corePath","workerPath","langPath"].forEach(c=>{o[c]&&(i[c]=Ae(i[c]))}),i},Te=o=>{const i=[],c=[],l=[],h=[],b=[];return o.blocks&&o.blocks.forEach(g=>{g.paragraphs.forEach(y=>{y.lines.forEach(p=>{p.words.forEach(w=>{w.symbols.forEach(k=>{b.push({...k,page:o,block:g,paragraph:y,line:p,word:w})}),h.push({...w,page:o,block:g,paragraph:y,line:p})}),l.push({...p,page:o,block:g,paragraph:y})}),c.push({...y,page:o,block:g})}),i.push({...g,page:o})}),{...o,blocks:i,paragraphs:c,lines:l,words:h,symbols:b}},se={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const _e="5.1.1",Re={version:_e};var Pe={workerBlobURL:!0,logger:()=>{}};const Ne=Re.version,Ie=Pe;var je={...Ie,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${Ne}/dist/worker.min.js`},xe=({workerPath:o,workerBlobURL:i})=>{let c;if(Blob&&URL&&i){const l=new Blob([`importScripts("${o}");`],{type:"application/javascript"});c=new Worker(URL.createObjectURL(l))}else c=new Worker(o);return c},Me=o=>{o.terminate()},Ce=(o,i)=>{o.onmessage=({data:c})=>{i(c)}},Fe=async(o,i)=>{o.postMessage(i)};const Q=o=>new Promise((i,c)=>{const l=new FileReader;l.onload=()=>{i(l.result)},l.onerror=({target:{error:{code:h}}})=>{c(Error(`File could not be read! Code=${h}`))},l.readAsArrayBuffer(o)}),X=async o=>{let i=o;if(typeof o>"u")return"undefined";if(typeof o=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(o)?i=atob(o.split(",")[1]).split("").map(c=>c.charCodeAt(0)):i=await(await fetch(o)).arrayBuffer();else if(typeof HTMLElement<"u"&&o instanceof HTMLElement)o.tagName==="IMG"&&(i=await X(o.src)),o.tagName==="VIDEO"&&(i=await X(o.poster)),o.tagName==="CANVAS"&&await new Promise(c=>{o.toBlob(async l=>{i=await Q(l),c()})});else if(typeof OffscreenCanvas<"u"&&o instanceof OffscreenCanvas){const c=await o.convertToBlob();i=await Q(c)}else(o instanceof File||o instanceof Blob)&&(i=await Q(o));return new Uint8Array(i)};var De=X;const Ue=je,$e=xe,Ge=Me,Be=Ce,ze=Fe,Ye=De;var Ke={defaultOptions:Ue,spawnWorker:$e,terminateWorker:Ge,onMessage:Be,send:ze,loadImage:Ye};const He=ke,We=Te,A=ce,{log:ne}=U,Je=ee,x=se,{defaultOptions:qe,spawnWorker:Ve,terminateWorker:Ze,onMessage:Qe,loadImage:ae,send:Xe}=Ke;let ie=0;var le=async(o="eng",i=x.LSTM_ONLY,c={},l={})=>{const h=Je("Worker",ie),{logger:b,errorHandler:g,...y}=He({...qe,...c}),p={},w={},k=typeof o=="string"?o.split("+"):o;let E=i,T=l;const S=[x.DEFAULT,x.LSTM_ONLY].includes(i)&&!y.legacyCore;let _,K;const H=new Promise((t,a)=>{K=t,_=a}),M=t=>{_(t.message)};let v=Ve(y);v.onerror=M,ie+=1;const C=(t,a)=>{p[t]=a},P=(t,a)=>{w[t]=a},m=({id:t,action:a,payload:u})=>new Promise((f,d)=>{ne(`[${h}]: Start ${t}, action=${a}`);const L=`${a}-${t}`;C(L,f),P(L,d),Xe(v,{workerId:h,jobId:t,action:a,payload:u})}),$=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),G=t=>m(A({id:t,action:"load",payload:{options:{lstmOnly:S,corePath:y.corePath,logging:y.logging}}})),F=(t,a,u)=>m(A({id:u,action:"FS",payload:{method:"writeFile",args:[t,a]}})),R=(t,a)=>m(A({id:a,action:"FS",payload:{method:"readFile",args:[t,{encoding:"utf8"}]}})),W=(t,a)=>m(A({id:a,action:"FS",payload:{method:"unlink",args:[t]}})),D=(t,a,u)=>m(A({id:u,action:"FS",payload:{method:t,args:a}})),V=()=>console.warn("`loadLanguage` is depreciated and should be removed from code (workers now come with language pre-loaded)"),B=(t,a)=>m(A({id:a,action:"loadLanguage",payload:{langs:t,options:{langPath:y.langPath,dataPath:y.dataPath,cachePath:y.cachePath,cacheMethod:y.cacheMethod,gzip:y.gzip,lstmOnly:[x.DEFAULT,x.LSTM_ONLY].includes(E)&&!y.legacyLang}}})),Z=()=>console.warn("`initialize` is depreciated and should be removed from code (workers now come pre-initialized)"),N=(t,a,u,f)=>m(A({id:f,action:"initialize",payload:{langs:t,oem:a,config:u}})),z=(t="eng",a,u,f)=>{if(S&&[x.TESSERACT_ONLY,x.TESSERACT_LSTM_COMBINED].includes(a))throw Error("Legacy model requested but code missing.");const d=a||E;E=d;const L=u||T;T=L;const O=(typeof t=="string"?t.split("+"):t).filter(I=>!k.includes(I));return k.push(...O),O.length>0?B(O,f).then(()=>N(t,d,L,f)):N(t,d,L,f)},Y=(t={},a)=>m(A({id:a,action:"setParameters",payload:{params:t}})),J=async(t,a={},u={blocks:!0,text:!0,hocr:!0,tsv:!0},f)=>m(A({id:f,action:"recognize",payload:{image:await ae(t),options:a,output:u}})),r=(t="Tesseract OCR Result",a=!1,u)=>(console.log("`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead."),m(A({id:u,action:"getPDF",payload:{title:t,textonly:a}}))),e=async(t,a)=>{if(S)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return m(A({id:a,action:"detect",payload:{image:await ae(t)}}))},n=async()=>(v!==null&&(Ze(v),v=null),Promise.resolve());Qe(v,({workerId:t,jobId:a,status:u,action:f,data:d})=>{const L=`${f}-${a}`;if(u==="resolve"){ne(`[${t}]: Complete ${a}`);let O=d;f==="recognize"?O=We(d):f==="getPDF"&&(O=Array.from({...d,length:Object.keys(d).length})),p[L]({jobId:a,data:O})}else if(u==="reject")if(w[L](d),f==="load"&&_(d),g)g(d);else throw Error(d);else u==="progress"&&b({...d,userJobId:a})});const s={id:h,worker:v,setResolve:C,setReject:P,load:$,writeText:F,readText:R,removeFile:W,FS:D,loadLanguage:V,initialize:Z,reinitialize:z,setParameters:Y,recognize:J,getPDF:r,detect:e,terminate:n};return G().then(()=>B(o)).then(()=>N(o,i,l)).then(()=>K(s)).catch(()=>{}),H};const ue=le,et=async(o,i,c)=>{const l=await ue(i,1,c);return l.recognize(o).finally(async()=>{await l.terminate()})},tt=async(o,i)=>{const c=await ue("osd",0,i);return c.detect(o).finally(async()=>{await c.terminate()})};var rt={recognize:et,detect:tt},ot={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},nt={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const at=we,it=le,ct=rt,st=ot,lt=se,ut=nt,{setLogging:ft}=U;var fe={languages:st,OEM:lt,PSM:ut,createScheduler:at,createWorker:it,setLogging:ft,...ct};const dt=de(fe),ht=pe({__proto__:null,default:dt},[fe]);export{ht as i};
