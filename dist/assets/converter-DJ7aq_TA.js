const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Bj8XUKke.js","assets/index-rYk3afpo.js","assets/index-BKE9-a4i.css","assets/jspdf.es.min-CjZKRUQS.js"])))=>i.map(i=>d[i]);
import{_ as Me}from"./index-rYk3afpo.js";function ot(x,F){return F.forEach(function(P){P&&typeof P!="string"&&!Array.isArray(P)&&Object.keys(P).forEach(function(l){if(l!=="default"&&!(l in x)){var e=Object.getOwnPropertyDescriptor(P,l);Object.defineProperty(x,l,e.get?e:{enumerable:!0,get:function(){return P[l]}})}})}),Object.freeze(x)}function qe(x,F){return new Promise(function(P,l){let e;return at(x).then(function(t){try{return e=t,P(new Blob([F.slice(0,2),e,F.slice(2)],{type:"image/jpeg"}))}catch(f){return l(f)}},l)})}const at=x=>new Promise((F,P)=>{const l=new FileReader;l.addEventListener("load",({target:{result:e}})=>{const t=new DataView(e);let f=0;if(t.getUint16(f)!==65496)return P("not a valid JPEG");for(f+=2;;){const o=t.getUint16(f);if(o===65498)break;const g=t.getUint16(f+2);if(o===65505&&t.getUint32(f+4)===1165519206){const m=f+10;let r;switch(t.getUint16(m)){case 18761:r=!0;break;case 19789:r=!1;break;default:return P("TIFF header contains invalid endian")}if(t.getUint16(m+2,r)!==42)return P("TIFF header contains invalid version");const i=t.getUint32(m+4,r),n=m+i+2+12*t.getUint16(m+i,r);for(let s=m+i+2;s<n;s+=12)if(t.getUint16(s,r)==274){if(t.getUint16(s+2,r)!==3)return P("Orientation data type is invalid");if(t.getUint32(s+4,r)!==1)return P("Orientation data count is invalid");t.setUint16(s+8,1,r);break}return F(e.slice(f,f+2+g))}f+=2+g}return F(new Blob)}),l.readAsArrayBuffer(x)});var Pe={},st={get exports(){return Pe},set exports(x){Pe=x}};(function(x){var F,P,l={};st.exports=l,l.parse=function(e,t){for(var f=l.bin.readUshort,o=l.bin.readUint,g=0,m={},r=new Uint8Array(e),i=r.length-4;o(r,i)!=101010256;)i--;g=i,g+=4;var n=f(r,g+=4);f(r,g+=2);var s=o(r,g+=2),d=o(r,g+=4);g+=4,g=d;for(var U=0;U<n;U++){o(r,g),g+=4,g+=4,g+=4,o(r,g+=4),s=o(r,g+=4);var I=o(r,g+=4),b=f(r,g+=4),L=f(r,g+2),M=f(r,g+4);g+=6;var R=o(r,g+=8);g+=4,g+=b+L+M,l._readLocal(r,R,m,s,I,t)}return m},l._readLocal=function(e,t,f,o,g,m){var r=l.bin.readUshort,i=l.bin.readUint;i(e,t),r(e,t+=4),r(e,t+=2);var n=r(e,t+=2);i(e,t+=2),i(e,t+=4),t+=4;var s=r(e,t+=8),d=r(e,t+=2);t+=2;var U=l.bin.readUTF8(e,t,s);if(t+=s,t+=d,m)f[U]={size:g,csize:o};else{var I=new Uint8Array(e.buffer,t);if(n==0)f[U]=new Uint8Array(I.buffer.slice(t,t+o));else{if(n!=8)throw"unknown compression method: "+n;var b=new Uint8Array(g);l.inflateRaw(I,b),f[U]=b}}},l.inflateRaw=function(e,t){return l.F.inflate(e,t)},l.inflate=function(e,t){return e[0],e[1],l.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},l.deflate=function(e,t){t==null&&(t={level:6});var f=0,o=new Uint8Array(50+Math.floor(1.1*e.length));o[f]=120,o[f+1]=156,f+=2,f=l.F.deflateRaw(e,o,f,t.level);var g=l.adler(e,0,e.length);return o[f+0]=g>>>24&255,o[f+1]=g>>>16&255,o[f+2]=g>>>8&255,o[f+3]=g>>>0&255,new Uint8Array(o.buffer,0,f+4)},l.deflateRaw=function(e,t){t==null&&(t={level:6});var f=new Uint8Array(50+Math.floor(1.1*e.length)),o=l.F.deflateRaw(e,f,o,t.level);return new Uint8Array(f.buffer,0,o)},l.encode=function(e,t){t==null&&(t=!1);var f=0,o=l.bin.writeUint,g=l.bin.writeUshort,m={};for(var r in e){var i=!l._noNeed(r)&&!t,n=e[r],s=l.crc.crc(n,0,n.length);m[r]={cpr:i,usize:n.length,crc:s,file:i?l.deflateRaw(n):n}}for(var r in m)f+=m[r].file.length+30+46+2*l.bin.sizeUTF8(r);f+=22;var d=new Uint8Array(f),U=0,I=[];for(var r in m){var b=m[r];I.push(U),U=l._writeHeader(d,U,r,b,0)}var L=0,M=U;for(var r in m)b=m[r],I.push(U),U=l._writeHeader(d,U,r,b,1,I[L++]);var R=U-M;return o(d,U,101010256),U+=4,g(d,U+=4,L),g(d,U+=2,L),o(d,U+=2,R),o(d,U+=4,M),U+=4,U+=2,d.buffer},l._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(t)!=-1},l._writeHeader=function(e,t,f,o,g,m){var r=l.bin.writeUint,i=l.bin.writeUshort,n=o.file;return r(e,t,g==0?67324752:33639248),t+=4,g==1&&(t+=2),i(e,t,20),i(e,t+=2,0),i(e,t+=2,o.cpr?8:0),r(e,t+=2,0),r(e,t+=4,o.crc),r(e,t+=4,n.length),r(e,t+=4,o.usize),i(e,t+=4,l.bin.sizeUTF8(f)),i(e,t+=2,0),t+=2,g==1&&(t+=2,t+=2,r(e,t+=6,m),t+=4),t+=l.bin.writeUTF8(e,t,f),g==0&&(e.set(n,t),t+=n.length),t},l.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var f=t,o=0;o<8;o++)1&f?f=3988292384^f>>>1:f>>>=1;e[t]=f}return e}(),update:function(e,t,f,o){for(var g=0;g<o;g++)e=l.crc.table[255&(e^t[f+g])]^e>>>8;return e},crc:function(e,t,f){return 4294967295^l.crc.update(4294967295,e,t,f)}},l.adler=function(e,t,f){for(var o=1,g=0,m=t,r=t+f;m<r;){for(var i=Math.min(m+5552,r);m<i;)g+=o+=e[m++];o%=65521,g%=65521}return g<<16|o},l.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,f){e[t]=255&f,e[t+1]=f>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,f){e[t]=255&f,e[t+1]=f>>8&255,e[t+2]=f>>16&255,e[t+3]=f>>24&255},readASCII:function(e,t,f){for(var o="",g=0;g<f;g++)o+=String.fromCharCode(e[t+g]);return o},writeASCII:function(e,t,f){for(var o=0;o<f.length;o++)e[t+o]=f.charCodeAt(o)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,f){for(var o,g="",m=0;m<f;m++)g+="%"+l.bin.pad(e[t+m].toString(16));try{o=decodeURIComponent(g)}catch{return l.bin.readASCII(e,t,f)}return o},writeUTF8:function(e,t,f){for(var o=f.length,g=0,m=0;m<o;m++){var r=f.charCodeAt(m);if(!(4294967168&r))e[t+g]=r,g++;else if(!(4294965248&r))e[t+g]=192|r>>6,e[t+g+1]=128|r>>0&63,g+=2;else if(!(4294901760&r))e[t+g]=224|r>>12,e[t+g+1]=128|r>>6&63,e[t+g+2]=128|r>>0&63,g+=3;else{if(4292870144&r)throw"e";e[t+g]=240|r>>18,e[t+g+1]=128|r>>12&63,e[t+g+2]=128|r>>6&63,e[t+g+3]=128|r>>0&63,g+=4}}return g},sizeUTF8:function(e){for(var t=e.length,f=0,o=0;o<t;o++){var g=e.charCodeAt(o);if(!(4294967168&g))f++;else if(!(4294965248&g))f+=2;else if(!(4294901760&g))f+=3;else{if(4292870144&g)throw"e";f+=4}}return f}},l.F={},l.F.deflateRaw=function(e,t,f,o){var g=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][o],m=l.F.U,r=l.F._goodIndex;l.F._hash;var i=l.F._putsE,n=0,s=f<<3,d=0,U=e.length;if(o==0){for(;n<U;)i(t,s,n+(A=Math.min(65535,U-n))==U?1:0),s=l.F._copyExact(e,n,A,t,s+8),n+=A;return s>>>3}var I=m.lits,b=m.strt,L=m.prev,M=0,R=0,k=0,p=0,S=0,u=0;for(U>2&&(b[u=l.F._hash(e,0)]=0),n=0;n<U;n++){if(S=u,n+1<U-2){u=l.F._hash(e,n+1);var c=n+1&32767;L[c]=b[u],b[u]=c}if(d<=n){(M>14e3||R>26697)&&U-n>100&&(d<n&&(I[M]=n-d,M+=2,d=n),s=l.F._writeBlock(n==U-1||d==U?1:0,I,M,p,e,k,n-k,t,s),M=R=p=0,k=n);var w=0;n<U-2&&(w=l.F._bestMatch(e,n,L,S,Math.min(g[2],U-n),g[3]));var A=w>>>16,y=65535&w;if(w!=0){y=65535&w;var E=r(A=w>>>16,m.of0);m.lhst[257+E]++;var v=r(y,m.df0);m.dhst[v]++,p+=m.exb[E]+m.dxb[v],I[M]=A<<23|n-d,I[M+1]=y<<16|E<<8|v,M+=2,d=n+A}else m.lhst[e[n]]++;R++}}for(k==n&&e.length!=0||(d<n&&(I[M]=n-d,M+=2,d=n),s=l.F._writeBlock(1,I,M,p,e,k,n-k,t,s),M=0,R=0,M=R=p=0,k=n);7&s;)s++;return s>>>3},l.F._bestMatch=function(e,t,f,o,g,m){var r=32767&t,i=f[r],n=r-i+32768&32767;if(i==r||o!=l.F._hash(e,t-n))return 0;for(var s=0,d=0,U=Math.min(32767,t);n<=U&&--m!=0&&i!=r;){if(s==0||e[t+s]==e[t+s-n]){var I=l.F._howLong(e,t,n);if(I>s){if(d=n,(s=I)>=g)break;n+2<I&&(I=n+2);for(var b=0,L=0;L<I-2;L++){var M=t-n+L+32768&32767,R=M-f[M]+32768&32767;R>b&&(b=R,i=M)}}}n+=(r=i)-(i=f[r])+32768&32767}return s<<16|d},l.F._howLong=function(e,t,f){if(e[t]!=e[t-f]||e[t+1]!=e[t+1-f]||e[t+2]!=e[t+2-f])return 0;var o=t,g=Math.min(e.length,t+258);for(t+=3;t<g&&e[t]==e[t-f];)t++;return t-o},l.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},l.saved=0,l.F._writeBlock=function(e,t,f,o,g,m,r,i,n){var s,d,U,I,b,L,M,R,k,p=l.F.U,S=l.F._putsF,u=l.F._putsE;p.lhst[256]++,d=(s=l.F.getTrees())[0],U=s[1],I=s[2],b=s[3],L=s[4],M=s[5],R=s[6],k=s[7];var c=32+(n+3&7?8-(n+3&7):0)+(r<<3),w=o+l.F.contSize(p.fltree,p.lhst)+l.F.contSize(p.fdtree,p.dhst),A=o+l.F.contSize(p.ltree,p.lhst)+l.F.contSize(p.dtree,p.dhst);A+=14+3*M+l.F.contSize(p.itree,p.ihst)+(2*p.ihst[16]+3*p.ihst[17]+7*p.ihst[18]);for(var y=0;y<286;y++)p.lhst[y]=0;for(y=0;y<30;y++)p.dhst[y]=0;for(y=0;y<19;y++)p.ihst[y]=0;var E=c<w&&c<A?0:w<A?1:2;if(S(i,n,e),S(i,n+1,E),n+=3,E==0){for(;7&n;)n++;n=l.F._copyExact(g,m,r,i,n)}else{var v,C;if(E==1&&(v=p.fltree,C=p.fdtree),E==2){l.F.makeCodes(p.ltree,d),l.F.revCodes(p.ltree,d),l.F.makeCodes(p.dtree,U),l.F.revCodes(p.dtree,U),l.F.makeCodes(p.itree,I),l.F.revCodes(p.itree,I),v=p.ltree,C=p.dtree,u(i,n,b-257),u(i,n+=5,L-1),u(i,n+=5,M-4),n+=4;for(var h=0;h<M;h++)u(i,n+3*h,p.itree[1+(p.ordr[h]<<1)]);n+=3*M,n=l.F._codeTiny(R,p.itree,i,n),n=l.F._codeTiny(k,p.itree,i,n)}for(var a=m,O=0;O<f;O+=2){for(var _=t[O],D=_>>>23,N=a+(8388607&_);a<N;)n=l.F._writeLit(g[a++],v,i,n);if(D!=0){var z=t[O+1],B=z>>16,H=z>>8&255,T=255&z;u(i,n=l.F._writeLit(257+H,v,i,n),D-p.of0[H]),n+=p.exb[H],S(i,n=l.F._writeLit(T,C,i,n),B-p.df0[T]),n+=p.dxb[T],a+=D}}n=l.F._writeLit(256,v,i,n)}return n},l.F._copyExact=function(e,t,f,o,g){var m=g>>>3;return o[m]=f,o[m+1]=f>>>8,o[m+2]=255-o[m],o[m+3]=255-o[m+1],m+=4,o.set(new Uint8Array(e.buffer,t,f),m),g+(f+4<<3)},l.F.getTrees=function(){for(var e=l.F.U,t=l.F._hufTree(e.lhst,e.ltree,15),f=l.F._hufTree(e.dhst,e.dtree,15),o=[],g=l.F._lenCodes(e.ltree,o),m=[],r=l.F._lenCodes(e.dtree,m),i=0;i<o.length;i+=2)e.ihst[o[i]]++;for(i=0;i<m.length;i+=2)e.ihst[m[i]]++;for(var n=l.F._hufTree(e.ihst,e.itree,7),s=19;s>4&&e.itree[1+(e.ordr[s-1]<<1)]==0;)s--;return[t,f,n,g,r,s,o,m]},l.F.getSecond=function(e){for(var t=[],f=0;f<e.length;f+=2)t.push(e[f+1]);return t},l.F.nonZero=function(e){for(var t="",f=0;f<e.length;f+=2)e[f+1]!=0&&(t+=(f>>1)+",");return t},l.F.contSize=function(e,t){for(var f=0,o=0;o<t.length;o++)f+=t[o]*e[1+(o<<1)];return f},l.F._codeTiny=function(e,t,f,o){for(var g=0;g<e.length;g+=2){var m=e[g],r=e[g+1];o=l.F._writeLit(m,t,f,o);var i=m==16?2:m==17?3:7;m>15&&(l.F._putsE(f,o,r,i),o+=i)}return o},l.F._lenCodes=function(e,t){for(var f=e.length;f!=2&&e[f-1]==0;)f-=2;for(var o=0;o<f;o+=2){var g=e[o+1],m=o+3<f?e[o+3]:-1,r=o+5<f?e[o+5]:-1,i=o==0?-1:e[o-1];if(g==0&&m==g&&r==g){for(var n=o+5;n+2<f&&e[n+2]==g;)n+=2;(s=Math.min(n+1-o>>>1,138))<11?t.push(17,s-3):t.push(18,s-11),o+=2*s-2}else if(g==i&&m==g&&r==g){for(n=o+5;n+2<f&&e[n+2]==g;)n+=2;var s=Math.min(n+1-o>>>1,6);t.push(16,s-3),o+=2*s-2}else t.push(g,0)}return f>>>1},l.F._hufTree=function(e,t,f){var o=[],g=e.length,m=t.length,r=0;for(r=0;r<m;r+=2)t[r]=0,t[r+1]=0;for(r=0;r<g;r++)e[r]!=0&&o.push({lit:r,f:e[r]});var i=o.length,n=o.slice(0);if(i==0)return 0;if(i==1){var s=o[0].lit;return n=s==0?1:0,t[1+(s<<1)]=1,t[1+(n<<1)]=1,1}o.sort(function(R,k){return R.f-k.f});var d=o[0],U=o[1],I=0,b=1,L=2;for(o[0]={lit:-1,f:d.f+U.f,l:d,r:U,d:0};b!=i-1;)d=I!=b&&(L==i||o[I].f<o[L].f)?o[I++]:o[L++],U=I!=b&&(L==i||o[I].f<o[L].f)?o[I++]:o[L++],o[b++]={lit:-1,f:d.f+U.f,l:d,r:U};var M=l.F.setDepth(o[b-1],0);for(M>f&&(l.F.restrictDepth(n,f,M),M=f),r=0;r<i;r++)t[1+(n[r].lit<<1)]=n[r].d;return M},l.F.setDepth=function(e,t){return e.lit!=-1?(e.d=t,t):Math.max(l.F.setDepth(e.l,t+1),l.F.setDepth(e.r,t+1))},l.F.restrictDepth=function(e,t,f){var o=0,g=1<<f-t,m=0;for(e.sort(function(i,n){return n.d==i.d?i.f-n.f:n.d-i.d}),o=0;o<e.length&&e[o].d>t;o++){var r=e[o].d;e[o].d=t,m+=g-(1<<f-r)}for(m>>>=f-t;m>0;)(r=e[o].d)<t?(e[o].d++,m-=1<<t-r-1):o++;for(;o>=0;o--)e[o].d==t&&m<0&&(e[o].d--,m++);m!=0&&console.log("debt left")},l.F._goodIndex=function(e,t){var f=0;return t[16|f]<=e&&(f|=16),t[8|f]<=e&&(f|=8),t[4|f]<=e&&(f|=4),t[2|f]<=e&&(f|=2),t[1|f]<=e&&(f|=1),f},l.F._writeLit=function(e,t,f,o){return l.F._putsF(f,o,t[e<<1]),o+t[1+(e<<1)]},l.F.inflate=function(e,t){var f=Uint8Array;if(e[0]==3&&e[1]==0)return t||new f(0);var o=l.F,g=o._bitsF,m=o._bitsE,r=o._decodeTiny,i=o.makeCodes,n=o.codes2map,s=o._get17,d=o.U,U=t==null;U&&(t=new f(e.length>>>2<<3));for(var I,b,L=0,M=0,R=0,k=0,p=0,S=0,u=0,c=0,w=0;L==0;)if(L=g(e,w,1),M=g(e,w+1,2),w+=3,M!=0){if(U&&(t=l.F._check(t,c+(1<<17))),M==1&&(I=d.flmap,b=d.fdmap,S=511,u=31),M==2){R=m(e,w,5)+257,k=m(e,w+5,5)+1,p=m(e,w+10,4)+4,w+=14;for(var A=0;A<38;A+=2)d.itree[A]=0,d.itree[A+1]=0;var y=1;for(A=0;A<p;A++){var E=m(e,w+3*A,3);d.itree[1+(d.ordr[A]<<1)]=E,E>y&&(y=E)}w+=3*p,i(d.itree,y),n(d.itree,y,d.imap),I=d.lmap,b=d.dmap,w=r(d.imap,(1<<y)-1,R+k,e,w,d.ttree);var v=o._copyOut(d.ttree,0,R,d.ltree);S=(1<<v)-1;var C=o._copyOut(d.ttree,R,k,d.dtree);u=(1<<C)-1,i(d.ltree,v),n(d.ltree,v,I),i(d.dtree,C),n(d.dtree,C,b)}for(;;){var h=I[s(e,w)&S];w+=15&h;var a=h>>>4;if(!(a>>>8))t[c++]=a;else{if(a==256)break;var O=c+a-254;if(a>264){var _=d.ldef[a-257];O=c+(_>>>3)+m(e,w,7&_),w+=7&_}var D=b[s(e,w)&u];w+=15&D;var N=D>>>4,z=d.ddef[N],B=(z>>>4)+g(e,w,15&z);for(w+=15&z,U&&(t=l.F._check(t,c+(1<<17)));c<O;)t[c]=t[c++-B],t[c]=t[c++-B],t[c]=t[c++-B],t[c]=t[c++-B];c=O}}}else{7&w&&(w+=8-(7&w));var H=4+(w>>>3),T=e[H-4]|e[H-3]<<8;U&&(t=l.F._check(t,c+T)),t.set(new f(e.buffer,e.byteOffset+H,T),c),w=H+T<<3,c+=T}return t.length==c?t:t.slice(0,c)},l.F._check=function(e,t){var f=e.length;if(t<=f)return e;var o=new Uint8Array(Math.max(f<<1,t));return o.set(e,0),o},l.F._decodeTiny=function(e,t,f,o,g,m){for(var r=l.F._bitsE,i=l.F._get17,n=0;n<f;){var s=e[i(o,g)&t];g+=15&s;var d=s>>>4;if(d<=15)m[n]=d,n++;else{var U=0,I=0;d==16?(I=3+r(o,g,2),g+=2,U=m[n-1]):d==17?(I=3+r(o,g,3),g+=3):d==18&&(I=11+r(o,g,7),g+=7);for(var b=n+I;n<b;)m[n]=U,n++}}return g},l.F._copyOut=function(e,t,f,o){for(var g=0,m=0,r=o.length>>>1;m<f;){var i=e[m+t];o[m<<1]=0,o[1+(m<<1)]=i,i>g&&(g=i),m++}for(;m<r;)o[m<<1]=0,o[1+(m<<1)]=0,m++;return g},l.F.makeCodes=function(e,t){for(var f,o,g,m,r=l.F.U,i=e.length,n=r.bl_count,s=0;s<=t;s++)n[s]=0;for(s=1;s<i;s+=2)n[e[s]]++;var d=r.next_code;for(f=0,n[0]=0,o=1;o<=t;o++)f=f+n[o-1]<<1,d[o]=f;for(g=0;g<i;g+=2)(m=e[g+1])!=0&&(e[g]=d[m],d[m]++)},l.F.codes2map=function(e,t,f){for(var o=e.length,g=l.F.U.rev15,m=0;m<o;m+=2)if(e[m+1]!=0)for(var r=m>>1,i=e[m+1],n=r<<4|i,s=t-i,d=e[m]<<s,U=d+(1<<s);d!=U;)f[g[d]>>>15-t]=n,d++},l.F.revCodes=function(e,t){for(var f=l.F.U.rev15,o=15-t,g=0;g<e.length;g+=2){var m=e[g]<<t-e[g+1];e[g]=f[m]>>>o}},l.F._putsE=function(e,t,f){f<<=7&t;var o=t>>>3;e[o]|=f,e[o+1]|=f>>>8},l.F._putsF=function(e,t,f){f<<=7&t;var o=t>>>3;e[o]|=f,e[o+1]|=f>>>8,e[o+2]|=f>>>16},l.F._bitsE=function(e,t,f){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<f)-1},l.F._bitsF=function(e,t,f){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<f)-1},l.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},l.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},l.F.U=(F=Uint16Array,P=Uint32Array,{next_code:new F(16),bl_count:new F(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new F(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new P(32),flmap:new F(512),fltree:[],fdmap:new F(32),fdtree:[],lmap:new F(32768),ltree:[],ttree:[],dmap:new F(32768),dtree:[],imap:new F(512),itree:[],rev15:new F(32768),lhst:new P(286),dhst:new P(30),ihst:new P(19),lits:new P(15e3),strt:new F(65536),prev:new F(32768)}),function(){for(var e=l.F.U,t=0;t<32768;t++){var f=t;f=(4278255360&(f=(4042322160&(f=(3435973836&(f=(2863311530&f)>>>1|(1431655765&f)<<1))>>>2|(858993459&f)<<2))>>>4|(252645135&f)<<4))>>>8|(16711935&f)<<8,e.rev15[t]=(f>>>16|f<<16)>>>17}function o(g,m,r){for(;m--!=0;)g.push(0,r)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];o(e.fltree,144,8),o(e.fltree,112,9),o(e.fltree,24,7),o(e.fltree,8,8),l.F.makeCodes(e.fltree,9),l.F.codes2map(e.fltree,9,e.flmap),l.F.revCodes(e.fltree,9),o(e.fdtree,32,5),l.F.makeCodes(e.fdtree,5),l.F.codes2map(e.fdtree,5,e.fdmap),l.F.revCodes(e.fdtree,5),o(e.itree,19,0),o(e.ltree,286,0),o(e.dtree,30,0),o(e.ttree,320,0)}()})();var ft=ot({__proto__:null,default:Pe},[Pe]);const he=function(){var x={nextZero(r,i){for(;r[i]!=0;)i++;return i},readUshort:(r,i)=>r[i]<<8|r[i+1],writeUshort(r,i,n){r[i]=n>>8&255,r[i+1]=255&n},readUint:(r,i)=>16777216*r[i]+(r[i+1]<<16|r[i+2]<<8|r[i+3]),writeUint(r,i,n){r[i]=n>>24&255,r[i+1]=n>>16&255,r[i+2]=n>>8&255,r[i+3]=255&n},readASCII(r,i,n){let s="";for(let d=0;d<n;d++)s+=String.fromCharCode(r[i+d]);return s},writeASCII(r,i,n){for(let s=0;s<n.length;s++)r[i+s]=n.charCodeAt(s)},readBytes(r,i,n){const s=[];for(let d=0;d<n;d++)s.push(r[i+d]);return s},pad:r=>r.length<2?`0${r}`:r,readUTF8(r,i,n){let s,d="";for(let U=0;U<n;U++)d+=`%${x.pad(r[i+U].toString(16))}`;try{s=decodeURIComponent(d)}catch{return x.readASCII(r,i,n)}return s}};function F(r,i,n,s){const d=i*n,U=t(s),I=Math.ceil(i*U/8),b=new Uint8Array(4*d),L=new Uint32Array(b.buffer),{ctype:M}=s,{depth:R}=s,k=x.readUshort;if(M==6){const _=d<<2;if(R==8)for(var p=0;p<_;p+=4)b[p]=r[p],b[p+1]=r[p+1],b[p+2]=r[p+2],b[p+3]=r[p+3];if(R==16)for(p=0;p<_;p++)b[p]=r[p<<1]}else if(M==2){const _=s.tabs.tRNS;if(_==null){if(R==8)for(p=0;p<d;p++){var S=3*p;L[p]=255<<24|r[S+2]<<16|r[S+1]<<8|r[S]}if(R==16)for(p=0;p<d;p++)S=6*p,L[p]=255<<24|r[S+4]<<16|r[S+2]<<8|r[S]}else{var u=_[0];const D=_[1],N=_[2];if(R==8)for(p=0;p<d;p++){var c=p<<2;S=3*p,L[p]=255<<24|r[S+2]<<16|r[S+1]<<8|r[S],r[S]==u&&r[S+1]==D&&r[S+2]==N&&(b[c+3]=0)}if(R==16)for(p=0;p<d;p++)c=p<<2,S=6*p,L[p]=255<<24|r[S+4]<<16|r[S+2]<<8|r[S],k(r,S)==u&&k(r,S+2)==D&&k(r,S+4)==N&&(b[c+3]=0)}}else if(M==3){const _=s.tabs.PLTE,D=s.tabs.tRNS,N=D?D.length:0;if(R==1)for(var w=0;w<n;w++){var A=w*I,y=w*i;for(p=0;p<i;p++){c=y+p<<2;var E=3*(v=r[A+(p>>3)]>>7-((7&p)<<0)&1);b[c]=_[E],b[c+1]=_[E+1],b[c+2]=_[E+2],b[c+3]=v<N?D[v]:255}}if(R==2)for(w=0;w<n;w++)for(A=w*I,y=w*i,p=0;p<i;p++)c=y+p<<2,E=3*(v=r[A+(p>>2)]>>6-((3&p)<<1)&3),b[c]=_[E],b[c+1]=_[E+1],b[c+2]=_[E+2],b[c+3]=v<N?D[v]:255;if(R==4)for(w=0;w<n;w++)for(A=w*I,y=w*i,p=0;p<i;p++)c=y+p<<2,E=3*(v=r[A+(p>>1)]>>4-((1&p)<<2)&15),b[c]=_[E],b[c+1]=_[E+1],b[c+2]=_[E+2],b[c+3]=v<N?D[v]:255;if(R==8)for(p=0;p<d;p++){var v;c=p<<2,E=3*(v=r[p]),b[c]=_[E],b[c+1]=_[E+1],b[c+2]=_[E+2],b[c+3]=v<N?D[v]:255}}else if(M==4){if(R==8)for(p=0;p<d;p++){c=p<<2;var C=r[h=p<<1];b[c]=C,b[c+1]=C,b[c+2]=C,b[c+3]=r[h+1]}if(R==16)for(p=0;p<d;p++){var h;c=p<<2,C=r[h=p<<2],b[c]=C,b[c+1]=C,b[c+2]=C,b[c+3]=r[h+2]}}else if(M==0)for(u=s.tabs.tRNS?s.tabs.tRNS:-1,w=0;w<n;w++){const _=w*I,D=w*i;if(R==1)for(var a=0;a<i;a++){var O=(C=255*(r[_+(a>>>3)]>>>7-(7&a)&1))==255*u?0:255;L[D+a]=O<<24|C<<16|C<<8|C}else if(R==2)for(a=0;a<i;a++)O=(C=85*(r[_+(a>>>2)]>>>6-((3&a)<<1)&3))==85*u?0:255,L[D+a]=O<<24|C<<16|C<<8|C;else if(R==4)for(a=0;a<i;a++)O=(C=17*(r[_+(a>>>1)]>>>4-((1&a)<<2)&15))==17*u?0:255,L[D+a]=O<<24|C<<16|C<<8|C;else if(R==8)for(a=0;a<i;a++)O=(C=r[_+a])==u?0:255,L[D+a]=O<<24|C<<16|C<<8|C;else if(R==16)for(a=0;a<i;a++)C=r[_+(a<<1)],O=k(r,_+(a<<1))==u?0:255,L[D+a]=O<<24|C<<16|C<<8|C}return b}function P(r,i,n,s){const d=t(r),U=Math.ceil(n*d/8),I=new Uint8Array((U+1+r.interlace)*s);return i=r.tabs.CgBI?e(i,I):l(i,I),r.interlace==0?i=f(i,r,0,n,s):r.interlace==1&&(i=function(L,M){const R=M.width,k=M.height,p=t(M),S=p>>3,u=Math.ceil(R*p/8),c=new Uint8Array(k*u);let w=0;const A=[0,0,4,0,2,0,1],y=[0,4,0,2,0,1,0],E=[8,8,8,4,4,2,2],v=[8,8,4,4,2,2,1];let C=0;for(;C<7;){const a=E[C],O=v[C];let _=0,D=0,N=A[C];for(;N<k;)N+=a,D++;let z=y[C];for(;z<R;)z+=O,_++;const B=Math.ceil(_*p/8);f(L,M,w,_,D);let H=0,T=A[C];for(;T<k;){let Q=y[C],V=w+H*B<<3;for(;Q<R;){var h;if(p==1&&(h=(h=L[V>>3])>>7-(7&V)&1,c[T*u+(Q>>3)]|=h<<7-((7&Q)<<0)),p==2&&(h=(h=L[V>>3])>>6-(7&V)&3,c[T*u+(Q>>2)]|=h<<6-((3&Q)<<1)),p==4&&(h=(h=L[V>>3])>>4-(7&V)&15,c[T*u+(Q>>1)]|=h<<4-((1&Q)<<2)),p>=8){const W=T*u+Q*S;for(let j=0;j<S;j++)c[W+j]=L[(V>>3)+j]}V+=p,Q+=O}H++,T+=a}_*D!=0&&(w+=D*(1+B)),C+=1}return c}(i,r)),i}function l(r,i){return e(new Uint8Array(r.buffer,2,r.length-6),i)}var e=function(){const r={H:{}};return r.H.N=function(i,n){const s=Uint8Array;let d,U,I=0,b=0,L=0,M=0,R=0,k=0,p=0,S=0,u=0;if(i[0]==3&&i[1]==0)return n||new s(0);const c=r.H,w=c.b,A=c.e,y=c.R,E=c.n,v=c.A,C=c.Z,h=c.m,a=n==null;for(a&&(n=new s(i.length>>>2<<5));I==0;)if(I=w(i,u,1),b=w(i,u+1,2),u+=3,b!=0){if(a&&(n=r.H.W(n,S+(1<<17))),b==1&&(d=h.J,U=h.h,k=511,p=31),b==2){L=A(i,u,5)+257,M=A(i,u+5,5)+1,R=A(i,u+10,4)+4,u+=14;let _=1;for(var O=0;O<38;O+=2)h.Q[O]=0,h.Q[O+1]=0;for(O=0;O<R;O++){const z=A(i,u+3*O,3);h.Q[1+(h.X[O]<<1)]=z,z>_&&(_=z)}u+=3*R,E(h.Q,_),v(h.Q,_,h.u),d=h.w,U=h.d,u=y(h.u,(1<<_)-1,L+M,i,u,h.v);const D=c.V(h.v,0,L,h.C);k=(1<<D)-1;const N=c.V(h.v,L,M,h.D);p=(1<<N)-1,E(h.C,D),v(h.C,D,d),E(h.D,N),v(h.D,N,U)}for(;;){const _=d[C(i,u)&k];u+=15&_;const D=_>>>4;if(!(D>>>8))n[S++]=D;else{if(D==256)break;{let N=S+D-254;if(D>264){const Q=h.q[D-257];N=S+(Q>>>3)+A(i,u,7&Q),u+=7&Q}const z=U[C(i,u)&p];u+=15&z;const B=z>>>4,H=h.c[B],T=(H>>>4)+w(i,u,15&H);for(u+=15&H;S<N;)n[S]=n[S++-T],n[S]=n[S++-T],n[S]=n[S++-T],n[S]=n[S++-T];S=N}}}}else{7&u&&(u+=8-(7&u));const _=4+(u>>>3),D=i[_-4]|i[_-3]<<8;a&&(n=r.H.W(n,S+D)),n.set(new s(i.buffer,i.byteOffset+_,D),S),u=_+D<<3,S+=D}return n.length==S?n:n.slice(0,S)},r.H.W=function(i,n){const s=i.length;if(n<=s)return i;const d=new Uint8Array(s<<1);return d.set(i,0),d},r.H.R=function(i,n,s,d,U,I){const b=r.H.e,L=r.H.Z;let M=0;for(;M<s;){const R=i[L(d,U)&n];U+=15&R;const k=R>>>4;if(k<=15)I[M]=k,M++;else{let p=0,S=0;k==16?(S=3+b(d,U,2),U+=2,p=I[M-1]):k==17?(S=3+b(d,U,3),U+=3):k==18&&(S=11+b(d,U,7),U+=7);const u=M+S;for(;M<u;)I[M]=p,M++}}return U},r.H.V=function(i,n,s,d){let U=0,I=0;const b=d.length>>>1;for(;I<s;){const L=i[I+n];d[I<<1]=0,d[1+(I<<1)]=L,L>U&&(U=L),I++}for(;I<b;)d[I<<1]=0,d[1+(I<<1)]=0,I++;return U},r.H.n=function(i,n){const s=r.H.m,d=i.length;let U,I,b,L;const M=s.j;for(var R=0;R<=n;R++)M[R]=0;for(R=1;R<d;R+=2)M[i[R]]++;const k=s.K;for(U=0,M[0]=0,I=1;I<=n;I++)U=U+M[I-1]<<1,k[I]=U;for(b=0;b<d;b+=2)L=i[b+1],L!=0&&(i[b]=k[L],k[L]++)},r.H.A=function(i,n,s){const d=i.length,U=r.H.m.r;for(let I=0;I<d;I+=2)if(i[I+1]!=0){const b=I>>1,L=i[I+1],M=b<<4|L,R=n-L;let k=i[I]<<R;const p=k+(1<<R);for(;k!=p;)s[U[k]>>>15-n]=M,k++}},r.H.l=function(i,n){const s=r.H.m.r,d=15-n;for(let U=0;U<i.length;U+=2){const I=i[U]<<n-i[U+1];i[U]=s[I]>>>d}},r.H.M=function(i,n,s){s<<=7&n;const d=n>>>3;i[d]|=s,i[d+1]|=s>>>8},r.H.I=function(i,n,s){s<<=7&n;const d=n>>>3;i[d]|=s,i[d+1]|=s>>>8,i[d+2]|=s>>>16},r.H.e=function(i,n,s){return(i[n>>>3]|i[1+(n>>>3)]<<8)>>>(7&n)&(1<<s)-1},r.H.b=function(i,n,s){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16)>>>(7&n)&(1<<s)-1},r.H.Z=function(i,n){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16)>>>(7&n)},r.H.i=function(i,n){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16|i[3+(n>>>3)]<<24)>>>(7&n)},r.H.m=function(){const i=Uint16Array,n=Uint32Array;return{K:new i(16),j:new i(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new i(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new n(32),J:new i(512),_:[],h:new i(32),$:[],w:new i(32768),C:[],v:[],d:new i(32768),D:[],u:new i(512),Q:[],r:new i(32768),s:new n(286),Y:new n(30),a:new n(19),t:new n(15e3),k:new i(65536),g:new i(32768)}}(),function(){const i=r.H.m;for(var n=0;n<32768;n++){let d=n;d=(2863311530&d)>>>1|(1431655765&d)<<1,d=(3435973836&d)>>>2|(858993459&d)<<2,d=(4042322160&d)>>>4|(252645135&d)<<4,d=(4278255360&d)>>>8|(16711935&d)<<8,i.r[n]=(d>>>16|d<<16)>>>17}function s(d,U,I){for(;U--!=0;)d.push(0,I)}for(n=0;n<32;n++)i.q[n]=i.S[n]<<3|i.T[n],i.c[n]=i.p[n]<<4|i.z[n];s(i._,144,8),s(i._,112,9),s(i._,24,7),s(i._,8,8),r.H.n(i._,9),r.H.A(i._,9,i.J),r.H.l(i._,9),s(i.$,32,5),r.H.n(i.$,5),r.H.A(i.$,5,i.h),r.H.l(i.$,5),s(i.Q,19,0),s(i.C,286,0),s(i.D,30,0),s(i.v,320,0)}(),r.H.N}();function t(r){return[1,null,3,1,2,null,4][r.ctype]*r.depth}function f(r,i,n,s,d){let U=t(i);const I=Math.ceil(s*U/8);let b,L;U=Math.ceil(U/8);let M=r[n],R=0;if(M>1&&(r[n]=[0,0,1][M-2]),M==3)for(R=U;R<I;R++)r[R+1]=r[R+1]+(r[R+1-U]>>>1)&255;for(let k=0;k<d;k++)if(b=n+k*I,L=b+k+1,M=r[L-1],R=0,M==0)for(;R<I;R++)r[b+R]=r[L+R];else if(M==1){for(;R<U;R++)r[b+R]=r[L+R];for(;R<I;R++)r[b+R]=r[L+R]+r[b+R-U]}else if(M==2)for(;R<I;R++)r[b+R]=r[L+R]+r[b+R-I];else if(M==3){for(;R<U;R++)r[b+R]=r[L+R]+(r[b+R-I]>>>1);for(;R<I;R++)r[b+R]=r[L+R]+(r[b+R-I]+r[b+R-U]>>>1)}else{for(;R<U;R++)r[b+R]=r[L+R]+o(0,r[b+R-I],0);for(;R<I;R++)r[b+R]=r[L+R]+o(r[b+R-U],r[b+R-I],r[b+R-U-I])}return r}function o(r,i,n){const s=r+i-n,d=s-r,U=s-i,I=s-n;return d*d<=U*U&&d*d<=I*I?r:U*U<=I*I?i:n}function g(r,i,n){n.width=x.readUint(r,i),i+=4,n.height=x.readUint(r,i),i+=4,n.depth=r[i],i++,n.ctype=r[i],i++,n.compress=r[i],i++,n.filter=r[i],i++,n.interlace=r[i],i++}function m(r,i,n,s,d,U,I,b,L){const M=Math.min(i,d),R=Math.min(n,U);let k=0,p=0;for(let C=0;C<R;C++)for(let h=0;h<M;h++)if(I>=0&&b>=0?(k=C*i+h<<2,p=(b+C)*d+I+h<<2):(k=(-b+C)*i-I+h<<2,p=C*d+h<<2),L==0)s[p]=r[k],s[p+1]=r[k+1],s[p+2]=r[k+2],s[p+3]=r[k+3];else if(L==1){var S=r[k+3]*.00392156862745098,u=r[k]*S,c=r[k+1]*S,w=r[k+2]*S,A=s[p+3]*(1/255),y=s[p]*A,E=s[p+1]*A,v=s[p+2]*A;const a=1-S,O=S+A*a,_=O==0?0:1/O;s[p+3]=255*O,s[p+0]=(u+y*a)*_,s[p+1]=(c+E*a)*_,s[p+2]=(w+v*a)*_}else if(L==2)S=r[k+3],u=r[k],c=r[k+1],w=r[k+2],A=s[p+3],y=s[p],E=s[p+1],v=s[p+2],S==A&&u==y&&c==E&&w==v?(s[p]=0,s[p+1]=0,s[p+2]=0,s[p+3]=0):(s[p]=u,s[p+1]=c,s[p+2]=w,s[p+3]=S);else if(L==3){if(S=r[k+3],u=r[k],c=r[k+1],w=r[k+2],A=s[p+3],y=s[p],E=s[p+1],v=s[p+2],S==A&&u==y&&c==E&&w==v)continue;if(S<220&&A>20)return!1}return!0}return{decode:function(i){const n=new Uint8Array(i);let s=8;const d=x,U=d.readUshort,I=d.readUint,b={tabs:{},frames:[]},L=new Uint8Array(n.length);let M,R=0,k=0;const p=[137,80,78,71,13,10,26,10];for(var S=0;S<8;S++)if(n[S]!=p[S])throw"The input is not a PNG file!";for(;s<n.length;){const C=d.readUint(n,s);s+=4;const h=d.readASCII(n,s,4);if(s+=4,h=="IHDR")g(n,s,b);else if(h=="iCCP"){for(var u=s;n[u]!=0;)u++;d.readASCII(n,s,u-s),n[u+1];const a=n.slice(u+2,s+C);let O=null;try{O=l(a)}catch{O=e(a)}b.tabs[h]=O}else if(h=="CgBI")b.tabs[h]=n.slice(s,s+4);else if(h=="IDAT"){for(S=0;S<C;S++)L[R+S]=n[s+S];R+=C}else if(h=="acTL")b.tabs[h]={num_frames:I(n,s),num_plays:I(n,s+4)},M=new Uint8Array(n.length);else if(h=="fcTL"){k!=0&&((v=b.frames[b.frames.length-1]).data=P(b,M.slice(0,k),v.rect.width,v.rect.height),k=0);const a={x:I(n,s+12),y:I(n,s+16),width:I(n,s+4),height:I(n,s+8)};let O=U(n,s+22);O=U(n,s+20)/(O==0?100:O);const _={rect:a,delay:Math.round(1e3*O),dispose:n[s+24],blend:n[s+25]};b.frames.push(_)}else if(h=="fdAT"){for(S=0;S<C-4;S++)M[k+S]=n[s+S+4];k+=C-4}else if(h=="pHYs")b.tabs[h]=[d.readUint(n,s),d.readUint(n,s+4),n[s+8]];else if(h=="cHRM")for(b.tabs[h]=[],S=0;S<8;S++)b.tabs[h].push(d.readUint(n,s+4*S));else if(h=="tEXt"||h=="zTXt"){b.tabs[h]==null&&(b.tabs[h]={});var c=d.nextZero(n,s),w=d.readASCII(n,s,c-s),A=s+C-c-1;if(h=="tEXt")E=d.readASCII(n,c+1,A);else{var y=l(n.slice(c+2,c+2+A));E=d.readUTF8(y,0,y.length)}b.tabs[h][w]=E}else if(h=="iTXt"){b.tabs[h]==null&&(b.tabs[h]={}),c=0,u=s,c=d.nextZero(n,u),w=d.readASCII(n,u,c-u);const a=n[u=c+1];var E;n[u+1],u+=2,c=d.nextZero(n,u),d.readASCII(n,u,c-u),u=c+1,c=d.nextZero(n,u),d.readUTF8(n,u,c-u),A=C-((u=c+1)-s),a==0?E=d.readUTF8(n,u,A):(y=l(n.slice(u,u+A)),E=d.readUTF8(y,0,y.length)),b.tabs[h][w]=E}else if(h=="PLTE")b.tabs[h]=d.readBytes(n,s,C);else if(h=="hIST"){const a=b.tabs.PLTE.length/3;for(b.tabs[h]=[],S=0;S<a;S++)b.tabs[h].push(U(n,s+2*S))}else if(h=="tRNS")b.ctype==3?b.tabs[h]=d.readBytes(n,s,C):b.ctype==0?b.tabs[h]=U(n,s):b.ctype==2&&(b.tabs[h]=[U(n,s),U(n,s+2),U(n,s+4)]);else if(h=="gAMA")b.tabs[h]=d.readUint(n,s)/1e5;else if(h=="sRGB")b.tabs[h]=n[s];else if(h=="bKGD")b.ctype==0||b.ctype==4?b.tabs[h]=[U(n,s)]:b.ctype==2||b.ctype==6?b.tabs[h]=[U(n,s),U(n,s+2),U(n,s+4)]:b.ctype==3&&(b.tabs[h]=n[s]);else if(h=="IEND")break;s+=C,d.readUint(n,s),s+=4}var v;return k!=0&&((v=b.frames[b.frames.length-1]).data=P(b,M.slice(0,k),v.rect.width,v.rect.height)),b.data=P(b,L,b.width,b.height),delete b.compress,delete b.interlace,delete b.filter,b},toRGBA8:function(i){const n=i.width,s=i.height;if(i.tabs.acTL==null)return[F(i.data,n,s,i).buffer];const d=[];i.frames[0].data==null&&(i.frames[0].data=i.data);const U=n*s*4,I=new Uint8Array(U),b=new Uint8Array(U),L=new Uint8Array(U);for(let R=0;R<i.frames.length;R++){const k=i.frames[R],p=k.rect.x,S=k.rect.y,u=k.rect.width,c=k.rect.height,w=F(k.data,u,c,i);if(R!=0)for(var M=0;M<U;M++)L[M]=I[M];if(k.blend==0?m(w,u,c,I,n,s,p,S,0):k.blend==1&&m(w,u,c,I,n,s,p,S,1),d.push(I.buffer.slice(0)),k.dispose!=0){if(k.dispose==1)m(b,u,c,I,n,s,p,S,0);else if(k.dispose==2)for(M=0;M<U;M++)I[M]=L[M]}}return d},_paeth:o,_copyTile:m,_bin:x}}();(function(){const{_copyTile:x}=he,{_bin:F}=he,P=he._paeth;var l={table:function(){const u=new Uint32Array(256);for(let c=0;c<256;c++){let w=c;for(let A=0;A<8;A++)1&w?w=3988292384^w>>>1:w>>>=1;u[c]=w}return u}(),update(u,c,w,A){for(let y=0;y<A;y++)u=l.table[255&(u^c[w+y])]^u>>>8;return u},crc:(u,c,w)=>4294967295^l.update(4294967295,u,c,w)};function e(u,c,w,A){c[w]+=u[0]*A>>4,c[w+1]+=u[1]*A>>4,c[w+2]+=u[2]*A>>4,c[w+3]+=u[3]*A>>4}function t(u){return Math.max(0,Math.min(255,u))}function f(u,c){const w=u[0]-c[0],A=u[1]-c[1],y=u[2]-c[2],E=u[3]-c[3];return w*w+A*A+y*y+E*E}function o(u,c,w,A,y,E,v){v==null&&(v=1);const C=A.length,h=[];for(var a=0;a<C;a++){const T=A[a];h.push([T>>>0&255,T>>>8&255,T>>>16&255,T>>>24&255])}for(a=0;a<C;a++){let T=4294967295;for(var O=0,_=0;_<C;_++){var D=f(h[a],h[_]);_!=a&&D<T&&(T=D,O=_)}}const N=new Uint32Array(y.buffer),z=new Int16Array(c*w*4),B=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(a=0;a<B.length;a++)B[a]=255*((B[a]+.5)/16-.5);for(let T=0;T<w;T++)for(let Q=0;Q<c;Q++){var H;a=4*(T*c+Q),v!=2?H=[t(u[a]+z[a]),t(u[a+1]+z[a+1]),t(u[a+2]+z[a+2]),t(u[a+3]+z[a+3])]:(D=B[4*(3&T)+(3&Q)],H=[t(u[a]+D),t(u[a+1]+D),t(u[a+2]+D),t(u[a+3]+D)]),O=0;let V=16777215;for(_=0;_<C;_++){const $=f(H,h[_]);$<V&&(V=$,O=_)}const W=h[O],j=[H[0]-W[0],H[1]-W[1],H[2]-W[2],H[3]-W[3]];v==1&&(Q!=c-1&&e(j,z,a+4,7),T!=w-1&&(Q!=0&&e(j,z,a+4*c-4,3),e(j,z,a+4*c,5),Q!=c-1&&e(j,z,a+4*c+4,1))),E[a>>2]=O,N[a>>2]=A[O]}}function g(u,c,w,A,y){y==null&&(y={});const{crc:E}=l,v=F.writeUint,C=F.writeUshort,h=F.writeASCII;let a=8;const O=u.frames.length>1;let _,D=!1,N=33+(O?20:0);if(y.sRGB!=null&&(N+=13),y.pHYs!=null&&(N+=21),y.iCCP!=null&&(_=pako.deflate(y.iCCP),N+=21+_.length+4),u.ctype==3){for(var z=u.plte.length,B=0;B<z;B++)u.plte[B]>>>24!=255&&(D=!0);N+=8+3*z+4+(D?8+1*z+4:0)}for(var H=0;H<u.frames.length;H++)O&&(N+=38),N+=(W=u.frames[H]).cimg.length+12,H!=0&&(N+=4);N+=12;const T=new Uint8Array(N),Q=[137,80,78,71,13,10,26,10];for(B=0;B<8;B++)T[B]=Q[B];if(v(T,a,13),a+=4,h(T,a,"IHDR"),a+=4,v(T,a,c),a+=4,v(T,a,w),a+=4,T[a]=u.depth,a++,T[a]=u.ctype,a++,T[a]=0,a++,T[a]=0,a++,T[a]=0,a++,v(T,a,E(T,a-17,17)),a+=4,y.sRGB!=null&&(v(T,a,1),a+=4,h(T,a,"sRGB"),a+=4,T[a]=y.sRGB,a++,v(T,a,E(T,a-5,5)),a+=4),y.iCCP!=null){const j=13+_.length;v(T,a,j),a+=4,h(T,a,"iCCP"),a+=4,h(T,a,"ICC profile"),a+=11,a+=2,T.set(_,a),a+=_.length,v(T,a,E(T,a-(j+4),j+4)),a+=4}if(y.pHYs!=null&&(v(T,a,9),a+=4,h(T,a,"pHYs"),a+=4,v(T,a,y.pHYs[0]),a+=4,v(T,a,y.pHYs[1]),a+=4,T[a]=y.pHYs[2],a++,v(T,a,E(T,a-13,13)),a+=4),O&&(v(T,a,8),a+=4,h(T,a,"acTL"),a+=4,v(T,a,u.frames.length),a+=4,v(T,a,y.loop!=null?y.loop:0),a+=4,v(T,a,E(T,a-12,12)),a+=4),u.ctype==3){for(v(T,a,3*(z=u.plte.length)),a+=4,h(T,a,"PLTE"),a+=4,B=0;B<z;B++){const j=3*B,$=u.plte[B],X=255&$,ee=$>>>8&255,ye=$>>>16&255;T[a+j+0]=X,T[a+j+1]=ee,T[a+j+2]=ye}if(a+=3*z,v(T,a,E(T,a-3*z-4,3*z+4)),a+=4,D){for(v(T,a,z),a+=4,h(T,a,"tRNS"),a+=4,B=0;B<z;B++)T[a+B]=u.plte[B]>>>24&255;a+=z,v(T,a,E(T,a-z-4,z+4)),a+=4}}let V=0;for(H=0;H<u.frames.length;H++){var W=u.frames[H];O&&(v(T,a,26),a+=4,h(T,a,"fcTL"),a+=4,v(T,a,V++),a+=4,v(T,a,W.rect.width),a+=4,v(T,a,W.rect.height),a+=4,v(T,a,W.rect.x),a+=4,v(T,a,W.rect.y),a+=4,C(T,a,A[H]),a+=2,C(T,a,1e3),a+=2,T[a]=W.dispose,a++,T[a]=W.blend,a++,v(T,a,E(T,a-30,30)),a+=4);const j=W.cimg;v(T,a,(z=j.length)+(H==0?0:4)),a+=4;const $=a;h(T,a,H==0?"IDAT":"fdAT"),a+=4,H!=0&&(v(T,a,V++),a+=4),T.set(j,a),a+=z,v(T,a,E(T,$,a-$)),a+=4}return v(T,a,0),a+=4,h(T,a,"IEND"),a+=4,v(T,a,E(T,a-4,4)),a+=4,T.buffer}function m(u,c,w){for(let A=0;A<u.frames.length;A++){const y=u.frames[A];y.rect.width;const E=y.rect.height,v=new Uint8Array(E*y.bpl+E);y.cimg=s(y.img,E,y.bpp,y.bpl,v,c,w)}}function r(u,c,w,A,y){const E=y[0],v=y[1],C=y[2],h=y[3],a=y[4],O=y[5];let _=6,D=8,N=255;for(var z=0;z<u.length;z++){const ne=new Uint8Array(u[z]);for(var B=ne.length,H=0;H<B;H+=4)N&=ne[H+3]}const T=N!=255,Q=function(K,q,te,oe,Y,fe){const J=[];for(var G=0;G<K.length;G++){const ae=new Uint8Array(K[G]),ue=new Uint32Array(ae.buffer);var le;let ce=0,me=0,ge=q,Ue=te,He=oe?1:0;if(G!=0){const rt=fe||oe||G==1||J[G-2].dispose!=0?1:2;let ze=0,je=1e9;for(let Ie=0;Ie<rt;Ie++){var be=new Uint8Array(K[G-1-Ie]);const it=new Uint32Array(K[G-1-Ie]);let ve=q,we=te,Ce=-1,Re=-1;for(let Ee=0;Ee<te;Ee++)for(let _e=0;_e<q;_e++)ue[re=Ee*q+_e]!=it[re]&&(_e<ve&&(ve=_e),_e>Ce&&(Ce=_e),Ee<we&&(we=Ee),Ee>Re&&(Re=Ee));Ce==-1&&(ve=we=Ce=Re=0),Y&&((1&ve)==1&&ve--,(1&we)==1&&we--);const We=(Ce-ve+1)*(Re-we+1);We<je&&(je=We,ze=Ie,ce=ve,me=we,ge=Ce-ve+1,Ue=Re-we+1)}be=new Uint8Array(K[G-1-ze]),ze==1&&(J[G-1].dispose=2),le=new Uint8Array(ge*Ue*4),x(be,q,te,le,ge,Ue,-ce,-me,0),He=x(ae,q,te,le,ge,Ue,-ce,-me,3)?1:0,He==1?n(ae,q,te,le,{x:ce,y:me,width:ge,height:Ue}):x(ae,q,te,le,ge,Ue,-ce,-me,0)}else le=ae.slice(0);J.push({rect:{x:ce,y:me,width:ge,height:Ue},img:le,blend:He,dispose:0})}if(oe)for(G=0;G<J.length;G++){if((Ae=J[G]).blend==1)continue;const ae=Ae.rect,ue=J[G-1].rect,ce=Math.min(ae.x,ue.x),me=Math.min(ae.y,ue.y),ge={x:ce,y:me,width:Math.max(ae.x+ae.width,ue.x+ue.width)-ce,height:Math.max(ae.y+ae.height,ue.y+ue.height)-me};J[G-1].dispose=1,G-1!=0&&i(K,q,te,J,G-1,ge,Y),i(K,q,te,J,G,ge,Y)}let Te=0;if(K.length!=1)for(var re=0;re<J.length;re++){var Ae;Te+=(Ae=J[re]).rect.width*Ae.rect.height}return J}(u,c,w,E,v,C),V={},W=[],j=[];if(A!=0){const ne=[];for(H=0;H<Q.length;H++)ne.push(Q[H].img.buffer);const K=function(Y){let fe=0;for(var J=0;J<Y.length;J++)fe+=Y[J].byteLength;const G=new Uint8Array(fe);let le=0;for(J=0;J<Y.length;J++){const be=new Uint8Array(Y[J]),Te=be.length;for(let re=0;re<Te;re+=4){let Ae=be[re],ae=be[re+1],ue=be[re+2];const ce=be[re+3];ce==0&&(Ae=ae=ue=0),G[le+re]=Ae,G[le+re+1]=ae,G[le+re+2]=ue,G[le+re+3]=ce}le+=Te}return G.buffer}(ne),q=U(K,A);for(H=0;H<q.plte.length;H++)W.push(q.plte[H].est.rgba);let te=0;for(H=0;H<Q.length;H++){const oe=(X=Q[H]).img.length;var $=new Uint8Array(q.inds.buffer,te>>2,oe>>2);j.push($);const Y=new Uint8Array(q.abuf,te,oe);O&&o(X.img,X.rect.width,X.rect.height,W,Y,$),X.img.set(Y),te+=oe}}else for(z=0;z<Q.length;z++){var X=Q[z];const ne=new Uint32Array(X.img.buffer);var ee=X.rect.width;for(B=ne.length,$=new Uint8Array(B),j.push($),H=0;H<B;H++){const K=ne[H];if(H!=0&&K==ne[H-1])$[H]=$[H-1];else if(H>ee&&K==ne[H-ee])$[H]=$[H-ee];else{let q=V[K];if(q==null&&(V[K]=q=W.length,W.push(K),W.length>=300))break;$[H]=q}}}const ye=W.length;for(ye<=256&&a==0&&(D=ye<=2?1:ye<=4?2:ye<=16?4:8,D=Math.max(D,h)),z=0;z<Q.length;z++){(X=Q[z]).rect.x,X.rect.y,ee=X.rect.width;const ne=X.rect.height;let K=X.img;new Uint32Array(K.buffer);let q=4*ee,te=4;if(ye<=256&&a==0){q=Math.ceil(D*ee/8);var de=new Uint8Array(q*ne);const oe=j[z];for(let Y=0;Y<ne;Y++){H=Y*q;const fe=Y*ee;if(D==8)for(var Z=0;Z<ee;Z++)de[H+Z]=oe[fe+Z];else if(D==4)for(Z=0;Z<ee;Z++)de[H+(Z>>1)]|=oe[fe+Z]<<4-4*(1&Z);else if(D==2)for(Z=0;Z<ee;Z++)de[H+(Z>>2)]|=oe[fe+Z]<<6-2*(3&Z);else if(D==1)for(Z=0;Z<ee;Z++)de[H+(Z>>3)]|=oe[fe+Z]<<7-1*(7&Z)}K=de,_=3,te=1}else if(T==0&&Q.length==1){de=new Uint8Array(ee*ne*3);const oe=ee*ne;for(H=0;H<oe;H++){const Y=3*H,fe=4*H;de[Y]=K[fe],de[Y+1]=K[fe+1],de[Y+2]=K[fe+2]}K=de,_=2,te=3,q=3*ee}X.img=K,X.bpl=q,X.bpp=te}return{ctype:_,depth:D,plte:W,frames:Q}}function i(u,c,w,A,y,E,v){const C=Uint8Array,h=Uint32Array,a=new C(u[y-1]),O=new h(u[y-1]),_=y+1<u.length?new C(u[y+1]):null,D=new C(u[y]),N=new h(D.buffer);let z=c,B=w,H=-1,T=-1;for(let V=0;V<E.height;V++)for(let W=0;W<E.width;W++){const j=E.x+W,$=E.y+V,X=$*c+j,ee=N[X];ee==0||A[y-1].dispose==0&&O[X]==ee&&(_==null||_[4*X+3]!=0)||(j<z&&(z=j),j>H&&(H=j),$<B&&(B=$),$>T&&(T=$))}H==-1&&(z=B=H=T=0),v&&((1&z)==1&&z--,(1&B)==1&&B--),E={x:z,y:B,width:H-z+1,height:T-B+1};const Q=A[y];Q.rect=E,Q.blend=1,Q.img=new Uint8Array(E.width*E.height*4),A[y-1].dispose==0?(x(a,c,w,Q.img,E.width,E.height,-E.x,-E.y,0),n(D,c,w,Q.img,E)):x(D,c,w,Q.img,E.width,E.height,-E.x,-E.y,0)}function n(u,c,w,A,y){x(u,c,w,A,y.width,y.height,-y.x,-y.y,2)}function s(u,c,w,A,y,E,v){const C=[];let h,a=[0,1,2,3,4];E!=-1?a=[E]:(c*A>5e5||w==1)&&(a=[0]),v&&(h={level:0});const O=ft;for(var _=0;_<a.length;_++){for(let z=0;z<c;z++)d(y,u,z,A,w,a[_]);C.push(O.deflate(y,h))}let D,N=1e9;for(_=0;_<C.length;_++)C[_].length<N&&(D=_,N=C[_].length);return C[D]}function d(u,c,w,A,y,E){const v=w*A;let C=v+w;if(u[C]=E,C++,E==0)if(A<500)for(var h=0;h<A;h++)u[C+h]=c[v+h];else u.set(new Uint8Array(c.buffer,v,A),C);else if(E==1){for(h=0;h<y;h++)u[C+h]=c[v+h];for(h=y;h<A;h++)u[C+h]=c[v+h]-c[v+h-y]+256&255}else if(w==0){for(h=0;h<y;h++)u[C+h]=c[v+h];if(E==2)for(h=y;h<A;h++)u[C+h]=c[v+h];if(E==3)for(h=y;h<A;h++)u[C+h]=c[v+h]-(c[v+h-y]>>1)+256&255;if(E==4)for(h=y;h<A;h++)u[C+h]=c[v+h]-P(c[v+h-y],0,0)+256&255}else{if(E==2)for(h=0;h<A;h++)u[C+h]=c[v+h]+256-c[v+h-A]&255;if(E==3){for(h=0;h<y;h++)u[C+h]=c[v+h]+256-(c[v+h-A]>>1)&255;for(h=y;h<A;h++)u[C+h]=c[v+h]+256-(c[v+h-A]+c[v+h-y]>>1)&255}if(E==4){for(h=0;h<y;h++)u[C+h]=c[v+h]+256-P(0,c[v+h-A],0)&255;for(h=y;h<A;h++)u[C+h]=c[v+h]+256-P(c[v+h-y],c[v+h-A],c[v+h-y-A])&255}}}function U(u,c){const w=new Uint8Array(u),A=w.slice(0),y=new Uint32Array(A.buffer),E=I(A,c),v=E[0],C=E[1],h=w.length,a=new Uint8Array(h>>2);let O;if(w.length<2e7)for(var _=0;_<h;_+=4)O=b(v,D=w[_]*(1/255),N=w[_+1]*(1/255),z=w[_+2]*(1/255),B=w[_+3]*(1/255)),a[_>>2]=O.ind,y[_>>2]=O.est.rgba;else for(_=0;_<h;_+=4){var D=w[_]*.00392156862745098,N=w[_+1]*(1/255),z=w[_+2]*(1/255),B=w[_+3]*(1/255);for(O=v;O.left;)O=L(O.est,D,N,z,B)<=0?O.left:O.right;a[_>>2]=O.ind,y[_>>2]=O.est.rgba}return{abuf:A.buffer,inds:a,plte:C}}function I(u,c,w){w==null&&(w=1e-4);const A=new Uint32Array(u.buffer),y={i0:0,i1:u.length,bst:null,est:null,tdst:0,left:null,right:null};y.bst=k(u,y.i0,y.i1),y.est=p(y.bst);const E=[y];for(;E.length<c;){let C=0,h=0;for(var v=0;v<E.length;v++)E[v].est.L>C&&(C=E[v].est.L,h=v);if(C<w)break;const a=E[h],O=M(u,A,a.i0,a.i1,a.est.e,a.est.eMq255);if(a.i0>=O||a.i1<=O){a.est.L=0;continue}const _={i0:a.i0,i1:O,bst:null,est:null,tdst:0,left:null,right:null};_.bst=k(u,_.i0,_.i1),_.est=p(_.bst);const D={i0:O,i1:a.i1,bst:null,est:null,tdst:0,left:null,right:null};for(D.bst={R:[],m:[],N:a.bst.N-_.bst.N},v=0;v<16;v++)D.bst.R[v]=a.bst.R[v]-_.bst.R[v];for(v=0;v<4;v++)D.bst.m[v]=a.bst.m[v]-_.bst.m[v];D.est=p(D.bst),a.left=_,a.right=D,E[h]=_,E.push(D)}for(E.sort((C,h)=>h.bst.N-C.bst.N),v=0;v<E.length;v++)E[v].ind=v;return[y,E]}function b(u,c,w,A,y){if(u.left==null)return u.tdst=function(_,D,N,z,B){const H=D-_[0],T=N-_[1],Q=z-_[2],V=B-_[3];return H*H+T*T+Q*Q+V*V}(u.est.q,c,w,A,y),u;const E=L(u.est,c,w,A,y);let v=u.left,C=u.right;E>0&&(v=u.right,C=u.left);const h=b(v,c,w,A,y);if(h.tdst<=E*E)return h;const a=b(C,c,w,A,y);return a.tdst<h.tdst?a:h}function L(u,c,w,A,y){const{e:E}=u;return E[0]*c+E[1]*w+E[2]*A+E[3]*y-u.eMq}function M(u,c,w,A,y,E){for(A-=4;w<A;){for(;R(u,w,y)<=E;)w+=4;for(;R(u,A,y)>E;)A-=4;if(w>=A)break;const v=c[w>>2];c[w>>2]=c[A>>2],c[A>>2]=v,w+=4,A-=4}for(;R(u,w,y)>E;)w-=4;return w+4}function R(u,c,w){return u[c]*w[0]+u[c+1]*w[1]+u[c+2]*w[2]+u[c+3]*w[3]}function k(u,c,w){const A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],y=[0,0,0,0],E=w-c>>2;for(let v=c;v<w;v+=4){const C=u[v]*.00392156862745098,h=u[v+1]*(1/255),a=u[v+2]*(1/255),O=u[v+3]*(1/255);y[0]+=C,y[1]+=h,y[2]+=a,y[3]+=O,A[0]+=C*C,A[1]+=C*h,A[2]+=C*a,A[3]+=C*O,A[5]+=h*h,A[6]+=h*a,A[7]+=h*O,A[10]+=a*a,A[11]+=a*O,A[15]+=O*O}return A[4]=A[1],A[8]=A[2],A[9]=A[6],A[12]=A[3],A[13]=A[7],A[14]=A[11],{R:A,m:y,N:E}}function p(u){const{R:c}=u,{m:w}=u,{N:A}=u,y=w[0],E=w[1],v=w[2],C=w[3],h=A==0?0:1/A,a=[c[0]-y*y*h,c[1]-y*E*h,c[2]-y*v*h,c[3]-y*C*h,c[4]-E*y*h,c[5]-E*E*h,c[6]-E*v*h,c[7]-E*C*h,c[8]-v*y*h,c[9]-v*E*h,c[10]-v*v*h,c[11]-v*C*h,c[12]-C*y*h,c[13]-C*E*h,c[14]-C*v*h,c[15]-C*C*h],O=a,_=S;let D=[Math.random(),Math.random(),Math.random(),Math.random()],N=0,z=0;if(A!=0)for(let H=0;H<16&&(D=_.multVec(O,D),z=Math.sqrt(_.dot(D,D)),D=_.sml(1/z,D),!(H!=0&&Math.abs(z-N)<1e-9));H++)N=z;const B=[y*h,E*h,v*h,C*h];return{Cov:a,q:B,e:D,L:N,eMq255:_.dot(_.sml(255,B),D),eMq:_.dot(D,B),rgba:(Math.round(255*B[3])<<24|Math.round(255*B[2])<<16|Math.round(255*B[1])<<8|Math.round(255*B[0])<<0)>>>0}}var S={multVec:(u,c)=>[u[0]*c[0]+u[1]*c[1]+u[2]*c[2]+u[3]*c[3],u[4]*c[0]+u[5]*c[1]+u[6]*c[2]+u[7]*c[3],u[8]*c[0]+u[9]*c[1]+u[10]*c[2]+u[11]*c[3],u[12]*c[0]+u[13]*c[1]+u[14]*c[2]+u[15]*c[3]],dot:(u,c)=>u[0]*c[0]+u[1]*c[1]+u[2]*c[2]+u[3]*c[3],sml:(u,c)=>[u*c[0],u*c[1],u*c[2],u*c[3]]};he.encode=function(c,w,A,y,E,v,C){y==null&&(y=0),C==null&&(C=!1);const h=r(c,w,A,y,[!1,!1,!1,0,C,!1]);return m(h,-1),g(h,w,A,E,v)},he.encodeLL=function(c,w,A,y,E,v,C,h){const a={ctype:0+(y==1?0:2)+(E==0?0:4),depth:v,frames:[]},O=(y+E)*v,_=O*w;for(let D=0;D<c.length;D++)a.frames.push({rect:{x:0,y:0,width:w,height:A},img:new Uint8Array(c[D]),blend:0,dispose:1,bpp:Math.ceil(O/8),bpl:Math.ceil(_/8)});return m(a,0,!0),g(a,w,A,C,h)},he.encode.compress=r,he.encode.dither=o,he.quantize=U,he.quantize.getKDtree=I,he.quantize.getNearest=b})();const Ge={toArrayBuffer(x,F){const P=x.width,l=x.height,e=P<<2,t=x.getContext("2d").getImageData(0,0,P,l),f=new Uint32Array(t.data.buffer),o=(32*P+31)/32<<2,g=o*l,m=122+g,r=new ArrayBuffer(m),i=new DataView(r),n=1<<20;let s,d,U,I,b=n,L=0,M=0,R=0;function k(u){i.setUint16(M,u,!0),M+=2}function p(u){i.setUint32(M,u,!0),M+=4}function S(u){M+=u}k(19778),p(m),S(4),p(122),p(108),p(P),p(-l>>>0),k(1),k(32),p(3),p(g),p(2835),p(2835),S(8),p(16711680),p(65280),p(255),p(4278190080),p(1466527264),function u(){for(;L<l&&b>0;){for(I=122+L*o,s=0;s<e;)b--,d=f[R++],U=d>>>24,i.setUint32(I+s,d<<8|U),s+=4;L++}R<f.length?(b=n,setTimeout(u,Ge._dly)):F(r)}()},toBlob(x,F){this.toArrayBuffer(x,P=>{F(new Blob([P],{type:"image/bmp"}))})},_dly:9};var se={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},lt={[se.CHROME]:16384,[se.FIREFOX]:11180,[se.DESKTOP_SAFARI]:16384,[se.IE]:8192,[se.IOS]:4096,[se.ETC]:8192};const Ne=typeof window<"u",Ve=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Oe=Ne&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),ct=(Ne||Ve)&&(Oe&&Oe.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Ke=(Ne||Ve)&&(Oe&&Oe.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Qe(x,F,P=Date.now()){return new Promise(l=>{const e=x.split(","),t=e[0].match(/:(.*?);/)[1],f=globalThis.atob(e[1]);let o=f.length;const g=new Uint8Array(o);for(;o--;)g[o]=f.charCodeAt(o);const m=new Blob([g],{type:t});m.name=F,m.lastModified=P,l(m)})}function Ze(x){return new Promise((F,P)=>{const l=new Ke;l.onload=()=>F(l.result),l.onerror=e=>P(e),l.readAsDataURL(x)})}function Xe(x){return new Promise((F,P)=>{const l=new Image;l.onload=()=>F(l),l.onerror=e=>P(e),l.src=x})}function Fe(){if(Fe.cachedResult!==void 0)return Fe.cachedResult;let x=se.ETC;const{userAgent:F}=navigator;return/Chrom(e|ium)/i.test(F)?x=se.CHROME:/iP(ad|od|hone)/i.test(F)&&/WebKit/i.test(F)?x=se.IOS:/Safari/i.test(F)?x=se.DESKTOP_SAFARI:/Firefox/i.test(F)?x=se.FIREFOX:(/MSIE/i.test(F)||document.documentMode)&&(x=se.IE),Fe.cachedResult=x,Fe.cachedResult}function Ye(x,F){const P=Fe(),l=lt[P];let e=x,t=F,f=e*t;const o=e>t?t/e:e/t;for(;f>l*l;){const g=(l+e)/2,m=(l+t)/2;g<m?(t=m,e=m*o):(t=g*o,e=g),f=e*t}return{width:e,height:t}}function Le(x,F){let P,l;try{if(P=new OffscreenCanvas(x,F),l=P.getContext("2d"),l===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{P=document.createElement("canvas"),l=P.getContext("2d")}return P.width=x,P.height=F,[P,l]}function Je(x,F){const{width:P,height:l}=Ye(x.width,x.height),[e,t]=Le(P,l);return F&&/jpe?g/.test(F)&&(t.fillStyle="white",t.fillRect(0,0,e.width,e.height)),t.drawImage(x,0,0,e.width,e.height),e}function Se(){return Se.cachedResult!==void 0||(Se.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Se.cachedResult}function De(x,F={}){return new Promise(function(P,l){let e,t;var f=function(){try{return t=Je(e,F.fileType||x.type),P([e,t])}catch(g){return l(g)}},o=function(g){try{var m=function(r){try{throw r}catch(i){return l(i)}};try{let r;return Ze(x).then(function(i){try{return r=i,Xe(r).then(function(n){try{return e=n,function(){try{return f()}catch(s){return l(s)}}()}catch(s){return m(s)}},m)}catch(n){return m(n)}},m)}catch(r){m(r)}}catch(r){return l(r)}};try{if(Se()||[se.DESKTOP_SAFARI,se.MOBILE_SAFARI].includes(Fe()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(x).then(function(g){try{return e=g,f()}catch{return o()}},o)}catch{o()}})}function ke(x,F,P,l,e=1){return new Promise(function(t,f){let o;if(F==="image/png"){let m,r,i;return m=x.getContext("2d"),{data:r}=m.getImageData(0,0,x.width,x.height),i=he.encode([r.buffer],x.width,x.height,4096*e),o=new Blob([i],{type:F}),o.name=P,o.lastModified=l,g.call(this)}{let m=function(){return g.call(this)};if(F==="image/bmp")return new Promise(r=>Ge.toBlob(x,r)).then((function(r){try{return o=r,o.name=P,o.lastModified=l,m.call(this)}catch(i){return f(i)}}).bind(this),f);{let r=function(){return m.call(this)};if(typeof OffscreenCanvas=="function"&&x instanceof OffscreenCanvas)return x.convertToBlob({type:F,quality:e}).then((function(i){try{return o=i,o.name=P,o.lastModified=l,r.call(this)}catch(n){return f(n)}}).bind(this),f);{let i;return i=x.toDataURL(F,e),Qe(i,P,l).then((function(n){try{return o=n,r.call(this)}catch(s){return f(s)}}).bind(this),f)}}}function g(){return t(o)}})}function pe(x){x.width=0,x.height=0}function xe(){return new Promise(function(x,F){let P,l,e,t;return xe.cachedResult!==void 0?x(xe.cachedResult):Qe("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(f){try{return P=f,De(P).then(function(o){try{return l=o[1],ke(l,P.type,P.name,P.lastModified).then(function(g){try{return e=g,pe(l),De(e).then(function(m){try{return t=m[0],xe.cachedResult=t.width===1&&t.height===2,x(xe.cachedResult)}catch(r){return F(r)}},F)}catch(m){return F(m)}},F)}catch(g){return F(g)}},F)}catch(o){return F(o)}},F)})}function et(x){return new Promise((F,P)=>{const l=new Ke;l.onload=e=>{const t=new DataView(e.target.result);if(t.getUint16(0,!1)!=65496)return F(-2);const f=t.byteLength;let o=2;for(;o<f;){if(t.getUint16(o+2,!1)<=8)return F(-1);const g=t.getUint16(o,!1);if(o+=2,g==65505){if(t.getUint32(o+=2,!1)!=1165519206)return F(-1);const m=t.getUint16(o+=6,!1)==18761;o+=t.getUint32(o+4,m);const r=t.getUint16(o,m);o+=2;for(let i=0;i<r;i++)if(t.getUint16(o+12*i,m)==274)return F(t.getUint16(o+12*i+8,m))}else{if((65280&g)!=65280)break;o+=t.getUint16(o,!1)}}return F(-1)},l.onerror=e=>P(e),l.readAsArrayBuffer(x)})}function tt(x,F){const{width:P}=x,{height:l}=x,{maxWidthOrHeight:e}=F;let t,f=x;return isFinite(e)&&(P>e||l>e)&&([f,t]=Le(P,l),P>l?(f.width=e,f.height=l/P*e):(f.width=P/l*e,f.height=e),t.drawImage(x,0,0,f.width,f.height),pe(x)),f}function nt(x,F){const{width:P}=x,{height:l}=x,[e,t]=Le(P,l);switch(F>4&&F<9?(e.width=l,e.height=P):(e.width=P,e.height=l),F){case 2:t.transform(-1,0,0,1,P,0);break;case 3:t.transform(-1,0,0,-1,P,l);break;case 4:t.transform(1,0,0,-1,0,l);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,l,0);break;case 7:t.transform(0,-1,-1,0,l,P);break;case 8:t.transform(0,-1,1,0,0,P)}return t.drawImage(x,0,0,P,l),pe(x),e}function $e(x,F,P=0){return new Promise(function(l,e){let t,f,o,g,m,r,i,n,s,d,U,I,b,L,M,R,k,p,S,u;function c(A=5){if(F.signal&&F.signal.aborted)throw F.signal.reason;t+=A,F.onProgress(Math.min(t,100))}function w(A){if(F.signal&&F.signal.aborted)throw F.signal.reason;t=Math.min(Math.max(A,t),100),F.onProgress(t)}return t=P,f=F.maxIteration||10,o=1024*F.maxSizeMB*1024,c(),De(x,F).then((function(A){try{return[,g]=A,c(),m=tt(g,F),c(),new Promise(function(y,E){var v;if(!(v=F.exifOrientation))return et(x).then((function(h){try{return v=h,C.call(this)}catch(a){return E(a)}}).bind(this),E);function C(){return y(v)}return C.call(this)}).then((function(y){try{return r=y,c(),xe().then((function(E){try{return i=E?m:nt(m,r),c(),n=F.initialQuality||1,s=F.fileType||x.type,ke(i,s,x.name,x.lastModified,n).then((function(v){try{{let h=function(){if(f--&&(M>o||M>b)){let O,_;return O=u?.95*S.width:S.width,_=u?.95*S.height:S.height,[k,p]=Le(O,_),p.drawImage(S,0,0,O,_),n*=s==="image/png"?.85:.95,ke(k,s,x.name,x.lastModified,n).then(function(D){try{return R=D,pe(S),S=k,M=R.size,w(Math.min(99,Math.floor((L-M)/(L-o)*100))),h}catch(N){return e(N)}},e)}return[1]},a=function(){return pe(S),pe(k),pe(m),pe(i),pe(g),w(100),l(R)};if(d=v,c(),U=d.size>o,I=d.size>x.size,!U&&!I)return w(100),l(d);var C;return b=x.size,L=d.size,M=L,S=i,u=!F.alwaysKeepResolution&&U,(C=(function(O){for(;O;){if(O.then)return void O.then(C,e);try{if(O.pop){if(O.length)return O.pop()?a.call(this):O;O=h}else O=O.call(this)}catch(_){return e(_)}}}).bind(this))(h)}}catch(h){return e(h)}}).bind(this),e)}catch(v){return e(v)}}).bind(this),e)}catch(E){return e(E)}}).bind(this),e)}catch(y){return e(y)}}).bind(this),e)})}const ut=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Be;function ht(x,F){return new Promise((P,l)=>{Be||(Be=function(f){const o=[];return o.push(f),URL.createObjectURL(new Blob(o))}(ut));const e=new Worker(Be);e.addEventListener("message",function(f){if(F.signal&&F.signal.aborted)e.terminate();else if(f.data.progress===void 0){if(f.data.error)return l(new Error(f.data.error)),void e.terminate();P(f.data.file),e.terminate()}else F.onProgress(f.data.progress)}),e.addEventListener("error",l),F.signal&&F.signal.addEventListener("abort",()=>{l(F.signal.reason),e.terminate()}),e.postMessage({file:x,imageCompressionLibUrl:F.libURL,options:{...F,onProgress:void 0,signal:void 0}})})}function ie(x,F){return new Promise(function(P,l){let e,t,f,o,g,m;if(e={...F},f=0,{onProgress:o}=e,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,g=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=s=>{f=s,typeof o=="function"&&o(f)},!(x instanceof Blob||x instanceof ct))return l(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(x.type))return l(new Error("The file given is not an image"));if(m=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!g||typeof Worker!="function"||m)return $e(x,e).then((function(s){try{return t=s,n.call(this)}catch(d){return l(d)}}).bind(this),l);var r=(function(){try{return n.call(this)}catch(s){return l(s)}}).bind(this),i=function(s){try{return $e(x,e).then(function(d){try{return t=d,r()}catch(U){return l(U)}},l)}catch(d){return l(d)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",ht(x,e).then(function(s){try{return t=s,r()}catch{return i()}},i)}catch{i()}function n(){try{t.name=x.name,t.lastModified=x.lastModified}catch{}try{e.preserveExif&&x.type==="image/jpeg"&&(!e.fileType||e.fileType&&e.fileType===x.type)&&(t=qe(x,t))}catch{}return P(t)}})}ie.getDataUrlFromFile=Ze,ie.getFilefromDataUrl=Qe,ie.loadImage=Xe,ie.drawImageInCanvas=Je,ie.drawFileInCanvas=De,ie.canvasToFile=ke,ie.getExifOrientation=et,ie.handleMaxWidthOrHeight=tt,ie.followExifOrientation=nt,ie.cleanupCanvasMemory=pe,ie.isAutoOrientationInBrowser=xe,ie.approximateBelowMaximumCanvasSizeOfBrowser=Ye,ie.copyExifWithoutOrientation=qe,ie.getBrowserName=Fe,ie.version="2.0.2";async function yt(x,F,P={}){console.log(" CONVERTER.JS - convertFile called"),console.log("File:",x.name),console.log("Target Format:",F),console.log("Options:",P);const l={enhance:P.enhance||!1,ocr:P.ocr||!1,summarize:P.summarize||!1,smartCompress:P.compress||P.smartCompress||!1};console.log("AI Features:",l);const e=vt(x.name);console.log("File Type:",e);let t={blob:null,filename:"",aiResults:{}};try{if(F==="compress")console.log(" Compressing image..."),t.blob=await gt(x,l.smartCompress),t.filename=`${x.name.split(".")[0]}_compressed.${x.name.split(".").pop()}`,console.log(" Compression complete");else if(e==="image")console.log(" Converting image..."),t.blob=await dt(x,F,l),t.filename=`${x.name.split(".")[0]}.${F}`,console.log(" Image conversion complete");else if(e==="pdf")if(console.log(" Converting PDF..."),F==="txt")t.blob=new Blob(["PDF conversion to text requires additional setup. Try uploading an image for OCR instead."],{type:"text/plain"}),t.filename=`${x.name.split(".")[0]}.txt`;else throw new Error("PDF conversion requires additional configuration");else if(e==="document")console.log(" Converting document..."),t.blob=await mt(x,F,l),t.filename=`${x.name.split(".")[0]}.${F}`,console.log(" Document conversion complete");else throw console.log(" Unsupported file type:",e),new Error("Unsupported file type for this demo");if(!t.blob)throw console.error(" No blob generated!"),new Error("Conversion failed: No blob generated");if(console.log(" Blob generated, size:",t.blob.size),l.ocr&&e==="image"){console.log(" Running OCR...");try{const f=await Me(()=>import("./index-Bj8XUKke.js").then(g=>g.i),__vite__mapDeps([0,1,2])),{data:{text:o}}=await f.recognize(x,"eng");t.aiResults.ocr=o,console.log(" OCR complete"),l.summarize&&o&&(t.aiResults.summary=pt(o),console.log(" Summarization complete"))}catch(f){console.log(" OCR skipped:",f.message)}}return l.enhance&&e==="image"&&(t.aiResults.enhanced=!0,console.log(" Enhancement applied")),console.log(" CONVERTER.JS - Final result:",t),t}catch(f){throw console.error(" CONVERTER.JS ERROR:",f),f}}async function dt(x,F,P={}){return new Promise((l,e)=>{const t=new FileReader;t.onload=async f=>{const o=new Image;o.onload=async()=>{const g=document.createElement("canvas");let m=o.width,r=o.height;P.enhance&&(m*=1.2,r*=1.2),g.width=m,g.height=r;const i=g.getContext("2d");i.imageSmoothingEnabled=!0,i.imageSmoothingQuality="high",i.drawImage(o,0,0,m,r);let n="image/png",s=.92;switch(F){case"jpg":case"jpeg":n="image/jpeg";break;case"png":n="image/png";break;case"webp":n="image/webp";break;case"pdf":const{jsPDF:d}=await Me(async()=>{const{jsPDF:b}=await import("./jspdf.es.min-CjZKRUQS.js").then(L=>L.j);return{jsPDF:b}},__vite__mapDeps([3,1,2])),U=g.toDataURL("image/jpeg",.9),I=new d({orientation:m>r?"landscape":"portrait",unit:"px",format:[m,r]});I.addImage(U,"JPEG",0,0,m,r),l(I.output("blob"));return}g.toBlob(d=>{d?l(d):e(new Error("Failed to convert image"))},n,s)},o.onerror=()=>e(new Error("Failed to load image")),o.src=f.target.result},t.onerror=()=>e(new Error("Failed to read file")),t.readAsDataURL(x)})}async function gt(x,F=!1){const P={maxSizeMB:F?.5:1,maxWidthOrHeight:F?1920:2048,useWebWorker:!0};try{return await ie(x,P)}catch(l){return console.error("Compression error:",l),x}}function pt(x,F=3){if(!x||x.length<100)return x;const P=x.replace(/\n+/g," ").split(/[.!?]+/).map(e=>e.trim()).filter(e=>e.length>20);return P.length<=F?x:P.map((e,t)=>({sentence:e,score:(t===0?3:0)+(e.length>50&&e.length<150?2:0),index:t})).sort((e,t)=>t.score-e.score).slice(0,F).sort((e,t)=>e.index-t.index).map(e=>e.sentence).join(". ")+"."}async function mt(x,F,P={}){return new Promise(async(l,e)=>{try{const t=await bt(x);if(F==="pdf"){const{jsPDF:f}=await Me(async()=>{const{jsPDF:r}=await import("./jspdf.es.min-CjZKRUQS.js").then(i=>i.j);return{jsPDF:r}},__vite__mapDeps([3,1,2])),o=new f,g=o.splitTextToSize(t,180);let m=20;g.forEach(r=>{m>280&&(o.addPage(),m=20),o.text(r,20,m),m+=7}),l(o.output("blob"))}else if(F==="txt"){const f=new Blob([t],{type:"text/plain"});l(f)}else if(F==="html"){const f=`
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>${x.name}</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; line-height: 1.6; }
        .content { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div class="content">${t.replace(/\n/g,"<br>")}</div>
</body>
</html>`,o=new Blob([f],{type:"text/html"});l(o)}else if(F==="docx"){const f=`{\\rtf1\\ansi\\deff0 {\\fonttbl {\\f0 Times New Roman;}}
\\f0\\fs24 ${t.replace(/\n/g,"\\par ")}}`,o=new Blob([f],{type:"application/rtf"});l(o)}else if(F==="jpg"||F==="png"){const{jsPDF:f}=await Me(async()=>{const{jsPDF:I}=await import("./jspdf.es.min-CjZKRUQS.js").then(b=>b.j);return{jsPDF:I}},__vite__mapDeps([3,1,2])),o=new f,g=o.splitTextToSize(t,180);let m=20;g.forEach(I=>{m>280&&(o.addPage(),m=20),o.text(I,20,m),m+=7});const r=o.output("blob"),i=document.createElement("canvas"),n=i.getContext("2d");i.width=800,i.height=600,n.fillStyle="white",n.fillRect(0,0,i.width,i.height),n.fillStyle="black",n.font="16px Arial";const s=t.split(" ");let d="",U=30;s.forEach(I=>{const b=d+I+" ";n.measureText(b).width>i.width-40&&d!==""?(n.fillText(d,20,U),d=I+" ",U+=20):d=b}),n.fillText(d,20,U),i.toBlob(l,`image/${F==="jpg"?"jpeg":"png"}`,.9)}else e(new Error(`Unsupported target format: ${F}`))}catch(t){e(t)}})}function bt(x){return new Promise((F,P)=>{const l=new FileReader;l.onload=e=>F(e.target.result),l.onerror=P,l.readAsText(x)})}function vt(x){const F=x.split(".").pop().toLowerCase();return["jpg","jpeg","png","webp","heic","gif","bmp"].includes(F)?"image":["pdf"].includes(F)?"pdf":["doc","docx","txt"].includes(F)?"document":["xls","xlsx"].includes(F)?"spreadsheet":"other"}export{yt as convertFile};
